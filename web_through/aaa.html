'<!DOCTYPE html><html >\n<head>\n    <title>西北工业大学 | 统一身份认证 | Login</title>\n    <meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="renderer" content="webkit" /><meta http-equiv="X-UA-Compatible" content="IE=edge"/><link rel="icon" href="/cas/themes/nwpu/favicon.ico" type="image/x-icon"/><script type="text/javascript" >\n    // var hmSiteId = "d605d8df6bf5ca8a54fe078683196518";\n    var hmSiteId = "59fe109529398d18adf6affbe7a530f6";\n    if (hmSiteId) {\n      var _hmt = _hmt || [];\n      (function() {\n        var hm = document.createElement("script");\n        hm.src = "https://hm.baidu.com/hm.js?"+hmSiteId;\n        var s = document.getElementsByTagName("script")[0]; \n        s.parentNode.insertBefore(hm, s);\n      })();\n    }\n    </script>\n\n    <script type="text/javascript" src="/cas/webjars/jquery/3.6.0/jquery.min.js"></script>\n    \n\n  <script src="/cas/deps/js/babel.min.js"></script>\n  <script src="/cas/deps/js/babel.polyfill.js"></script>\n  <script src="/cas/deps/js/vue/dist/vue.min.js"></script>\n\n  <script src="/cas/deps/js/sw-ui/lib/index.js"></script>\n\n    <link rel="stylesheet" type="text/css" href="/cas/deps/js/sw-ui/lib/theme-chalk/index.css"><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><!-- <link href="../../static/css/cas.css" rel="stylesheet" th:remove="tag" /> --><script src=\'/cas/deps/js/jsencrypt/3.0.0-rc.1/jsencrypt.min.js\' type="text/javascript"></script>\n\n<script type="text/javascript">\n  var encryptEnabled = false;\n\n  var encrypt = new JSEncrypt();\n  \n  var url = "\\/cas\\/jwt\\/publicKey";\n  $.get(url, function(publicKey){\n    // console.log(publicKey);\n    encrypt.setPublicKey(publicKey);\n  });\n  </script>\n\n<link rel="stylesheet" type="text/css" href="/cas/themes/nwpu/css/style-nwpu.css"><link rel="stylesheet" type="text/css" href="/cas/themes/nwpu/css/style-nwpu3.css"><link rel="stylesheet" type="text/css" href="/cas/themes/nwpu/css/mfa.css"></head>\n\n<body>\n\n\n<main role="main">\n    <div id="content">\n\n<div id="vue_main" style="display: none;">\n\n  <div style="display:none;">\n    <el-button id="showErrorMessageUsername" :plain="true" @click="showErrorMessageUsername">打开消息提示</el-button>\n    <el-button id="showErrorMessagePassword" :plain="true" @click="showErrorMessagePassword">打开消息提示</el-button>\n    <el-button id="showErrorMessageMobile" :plain="true" @click="showErrorMessageMobile">打开消息提示</el-button>\n    <el-button id="showErrorMessageDynamicCode" :plain="true" @click="showErrorMessageDynamicCode">打开消息提示</el-button>\n\n    <el-button id="showSuccessMessageSendCode" :plain="true" @click="showSuccessMessageSendCode">打开消息提示</el-button>\n    <el-button id="showFailureMessageSendCode" :plain="true" @click="showFailureMessageSendCode">打开消息提示</el-button>\n\n    <el-button id="showGuardDialog" :plain="true" @click="showGuardDialog">打开消息提示</el-button>\n  </div>\n  \n  <div style="min-height: 850px; background: #fff;" :style="\'height: \'+(clientHeight<=850?850:clientHeight)+\'px;\'">\n  \n  <sw-dialog\n    title="公告"\n    width="500px"\n    :visible.sync="dialogVisible"\n    :before-close="handleClose"></sw-dialog>\n  \n  <div style="width: 100%;position:absolute;top:0;height:480px;" :style="\'background-image: url(\'+bg+\'); height: \'+( 480 + (clientHeight<=850?0:((clientHeight-850)/2)) )+\'px;\'" ></div>\n  <div class="sw-login sw-cloud-platform-nwpu-login" style="min-height: 850px; overflow: hidden; height:850px;" :style="\'top:\'+(clientHeight<=850?0:((clientHeight-850)/2))+\'px;\'">\n    \n    <el-row  style="width: 100%;position: relative;max-width:1920px;margin: 0 auto;">\n      \n      <el-row style="margin:50px 50px 32px;color:#2367B1;font-size: 33px;">\n        <img height="50px" :src="logo" style="position: relative;top:7px"></el-row>      \n\n      <el-row :style="\'height:\'+(480)+\'px\'">\n\n        <!-- /*\n        <el-carousel ref="carousel" :interval="5000" arrow="never" indicator-position="none" class="carousel" :height="(480)+\'px\'">\n          <el-carousel-item v-for="item in backgrounds">\n          </el-carousel-item>\n        </el-carousel>\n        */ --><div :style="\'background:url(\'+backgrounds[0]+\') no-repeat;background-size:cover;background-position:left;height:\'+(480)+\'px\'" style="width: 100%;position: relative"></div>\n\n        <div class="car-cover" style="top:0; transform: none;"></div>\n\n        <div style="width: 300px;height: 370px;z-index:5; position: absolute; top:50px; right:0;">\n          <div class="sw-login-main" style="top:0; transform: none;"> <!-- /* :style="{transform:\'translate(-\'+ offset/4 +\'px, -50%) scale(\'+ (offset+1600)/1600 +\')\'}" */ --><div class="sw-login-main-content">\n             <div style="position:relative">\n             \n            <el-menu @select="changeMenu" :default-active="currentMenu"  class="sw-login-menu" background-color="#ffffff00" text-color="#666" active-text-color="#3394E1" mode="horizontal">\n              <el-menu-item index="3" style="margin: 0 20px;">QRCode</el-menu-item>\n              <el-menu-item index="2" style="margin: 0 20px;">Dynamic Code</el-menu-item>\n              <el-menu-item index="1" style="margin: 0 0 0 20px;">User-Password</el-menu-item>\n            </el-menu>\n             \n             </div>\n\n              <div class="card">\n\n            <div v-show="currentMenu==1">\n\n              <el-form style="margin: 20px" method="post" id="fm1" action="login">\n              \n                <div class="el-form-item el-form-item--small" style="margin-bottom: 15px">\n                  <div class="el-form-item__content">\n                    <div class="sw-input el-input el-input--default el-input--prefix sw-input--circular">\n                      \n                            <div>\n\n                            <div>\n                                <input class="el-input__inner"\n                                       placeholder="请输入用户名/手机/邮箱/证件号" title="请输入用户名/手机/邮箱/证件号" id="username"\n                                       name="username"\n                                       size="25"\n                                       tabindex="1"\n                                       type="text"\n                                       value="2021264411"\n                                       accesskey="u"\n                                       autocomplete="off"/></div>\n                            </div>\n                      \n                      <span class="el-input__prefix"><i class="su-input-icon black su-input-icon-prefix el-input__icon su-icon-people"></i></span>\n                    </div>\n                  </div>\n                </div>\n\n                <div class="el-form-item el-form-item--small" style="margin-bottom: 15px">\n                  <div class="el-form-item__content">\n                    <div class="sw-input el-input el-input--defualt el-input--prefix sw-input--circular">\n\n                            <div>\n                                <input class="el-input__inner"\n                                       placeholder="Enter your Password" title="Enter your Password" type="password"\n                                       id="password"\n                                       size="25"\n                                       tabindex="2"\n                                       accesskey="p"\n                                       autocomplete="off" name="password" value=""/></div>\n\n                      <span class="el-input__prefix"><i class="su-input-icon black su-input-icon-prefix el-input__icon su-icon-lock"></i></span>\n                      <span class="el-input__suffix"><span class="el-input__suffix-inner" style="display: inline-block;"><i class="el-input__icon su-icon-hide el-input__clear" style="line-height: 32px;" onclick="javascript: togglePassword(this);"></i></span></span>\n                    </div>\n                  </div>\n                </div>\n\n                <el-form-item style="margin-bottom: 10px">\n                  <el-checkbox name="rememberMe" id="rememberMe" label="true">Remember Me</el-checkbox>\n                  <a href="/cas/personal/forgotYourPassword" target="_blank" style="font-size: 14px;float: right; color: #2367B1; text-decoration-line: none;">Forgot your password?</a>\n                  \n                </el-form-item>\n                \n                <el-form-item style="margin-bottom: 10px">\n                        <input type="hidden" name="currentMenu" value="1"/><input type="hidden" name="mfaState" value=""/><input type="hidden" name="execution" value="6aa1a254-0851-4a16-ada2-91be8e393666_ZXlKaGJHY2lPaUpJVXpVeE1pSjkuOFlweno5WWwwWDk1ZjU5T24xNG45R3p3M0swejdVZVg3ajFtRWVLekZxUm1vVmYyYmk1eE54c0NXM0tWT291NHJGZ1k3N1VjQ1FwdDQvbktXeEFjeFAyNm5kV01lemorWXBUalhGMFdtZlg4Q291b0VpbnArd3ArT3lyeHVaMnpXZDFmS1RVZGdvR2J6Q2dQWjdKV0NFOE9yY1VHakRlNnUzWng4dUZCR3pRQnJ6dlFVRFlqR3NLY0VDUlZYZ1JrM2JKbTcvdDJDN2hQeHJ3bnlSSWlBZ3lSMHRDSUdUOXNkVnNUNVhuTUd0cTVlOGQzc0lseXVCV2wxODVjQXA3WGMyTU5jUGluaG5qc2NMU3QxbGQ4d3NIV0VFbU9oOFAxYkJsdVBXVkc5c1lmeU1MQkhUN3YzYmpjSW9pbVd2aWdGWnhWR2I0QzB0T0p5aC9kZndYTGdJanhIZVgvY1F2M3ExMEtpL2JvL3ovNlRaMkkzRXVOMjVLWk1GTjhqOHo4eG80eEFxMHl0ZWg4ZU5UTXJUQUdHQTZhUTU4Mzd6UEthVDFxN2JRcW9ZRldYUm1UNVY5TlA0WllCNVNQbDgzVDN2TU9aSHBzR0dNMzQzcllFNGl2em9mQmo3TjFhd2c1NlZjRm5QVWNacVZHOTYrVVdSN3NWTFpGa0hZTVl6VHNJU0YxanY2S0U1dXQvYjhwOHUvc0RFbmNvS3Y4bVlFSnYzazUvaGNVWmw3VFFvTHJWTnFjZFVnNjIyenNCMUZlVHJnMlBBclQ5QkdxejFKTTZjMkJGelVjd3JuMUFkTjI4OWNFTGI1aEU5Nkl6QW45MjZkNjUyL0xCcXF2TmdIdXRJOXRCSjB2clEwME4wbmg4UWpHbmVIT1lnMHRRQmlaaWRIMVNqeWM5eDE4VXhqZXdOazFTVzVHV0FIUWpqNXI0dlFnZEpzZmdVb0xBVVhLQXVBZVlnWEhDMWxHNjNRMDNOZUxFYXF6ZllFVHN2dFRZcWZZbHdaMVJpSmhUbDNXMFhqci9DNGk5Zk1TQklIdCtxcmIySzRRQnBKS3l1NWJBWkFDQ1JIdng1c2E5RWxVSFo2ZlNqS3R6ZVFCejYzYmJlZUNMM3FiLzJhcHlwUy9CbWtIZm94d3Q1QkVEay9scHdIc1JWNmF4MEZFNTRNb3FmREREMUp1M1Z3bFNraEYyYWgzVTY2UG9UakVkRVk1Y1hTdE55Nm1QY2FxbjZiTERTakdhY0EyMTJsaGc4elI4M2pWL1hDL05uQ3p6UVZOaWl1b3dlanFkZCt0SS9zaUsyenkySE9NTHA4Wi93aUVTeG81eUxxY1M3MWZQR2hSNW5CdXdwQk5kTWlYalVnWEVKQXFyVFgrSXpybDdkSFdHZkZyWENSVldWWmc4Mjl6STZadlBCeUphWHc0TTlncUlwQ3JHOGpwYzRtT2Z4cTR3eDNnZ1diUVhxdW5lSk5IZnFpN2NGcFA5ZmkzRWFSNmdBODBoMkRkSUJwaTNTTWtNd0lqL3Erc1RDQnFnT1p3V2dma3FMNGc2QzBZaTJFVFA4SDRLR2FHS0p3OGg3Rk95SHBKMGVzWUVWb0s1YVVtREN3U2R1QzEzcEhzVE1pQmxjMU9paFBDU1FjQnZIWURLZFlheFR0dkZUcUZobUpJSHFldGs5YnBPYjE3VkVoQ0JudGt4YWVmS2xQYVR0YUhqdDVrbnFxdUR4TlQ3cU4zaFFOMzdKMkhtamlQSW1MT2FMWjUyZnF1amxXL3RUVEgrRzRyUnU4VWlMNXdMRGJqSVVkUkNDTlZGMGxQOHpmRnhCRWFRVi9DTlY4d2Q2dU9GdWFLSm5LZTBuS1NuR2ZETEVCaFlRdVYvUGtWQXljYXZ2RnNLb25uUHN4U1ViMlFyUkFqQTVVZGlIdytIeU94SU5GM3ROcTYxcGY2ajgxaVVvczQzL0dZRkVKeE00U3BSNjYwZ2hBYzJybVYvN3BJU0w4Z3pzZ1k0MnV0VGZGWThMMy93cGltY1NEejZiK3NRbEpGZE1RQTBqYmNTeDR2L2k4NTFMR3lSbzZvY2xUMzVZa25lcVhqN2hJcWE0cWc4Q2xRL3c5eTlocDgrVFNmaXcydUxIT3VjQ0JiQXJHMHBOK3RDczZvVXA5MGNuOUNGNTdrM05NcVhwV2gxc0tlTVd4ZE1qQ0NFVnd5NEw0TkRFbTR2ZkZibElEQjNSTjE4YVFBTHhnbEpKM2xNSGVkbm5mWEJIbVFiQ1p2T1RzeFR3WVoxYUFOcGxDMGY3LzhaZk1rSEhmNS9JQmN1RDZjWENEWUN0Nk1QZkFtVEg1N1NyWUR4cVFwRnFUQUdmS1RxaXowZEd2Nnh6V2xNUEZlQkQ0WHhMdHArQkRPTEpaUStzTzNaQ3IxRXNuTzVXQWtTbFFyZHZjRWF6YmpIaU5EVDlOOGNwcWN1eERwbnZKSEErUkkwNHJFRjgrYXNmVkpENDFiRXNQK05TdjU0OCtMTmlqUWoyc0I5cjJHRVh5cTBmSEtVU1puWUQ2dDlMbW5UTjhUNlBzRm5mMllPWkpQL0xFNmppUHErbmZUcjVSRDlCbnBGUW9adXVwK3hCWEN2YVNIT3BYZWkrRU9BcVEzM3YyUHFMTzNCR1drTzRMZC9rcjFsZU1xajNuR1RjTlpZQWNzUFJlY2ZBdklWR1FTL3FRRlkzR3RvL0ZKWS9WUzNwR2ZkbUQ1Z1JVTGI0QjdPb1V1eDVneXRxcVh2VHJMTVVlMUJpY0lpOXdibkFuWm84UWdXd3RaOW1BOTFVS0loczdHODd3dU5kWTJzR3Brd2FUMHo4SWZRUzQ2cEd2aXVPSU1ja1FHRm5ieFV4czU0VU9oa2hlY3BRcjNNMmxodXdQTHNxOVNlZ2tydTFISkhnbkY4ZTJnaDRrOEpqanVZNUo5YThVa1p1RThkckxWcXNJUWdERWRydThYYVZSd2RHREdxU3ZZNXNkQk9KWWZObTBoMzM2amwvVldaK1orcDBoc1YyV0hQTm1aMVBuK3RXdTJ6TkVzbEdDWGtKSlFSSEF2NUJkVHlHTDlOWllab2hxVmErOHh2UTcwaWtBRkVKeEpXdTgwUVQxeE9oWXRjbDBQTWYvOVZwME5peW4rbi95RjhEdWtpQWk1Nmk4elhkUUdvV1pYNkM3Vi9sNUdTa2loMEY3MzdWMDIxMFVreVdVYTNpdlVBaklpcUVTTjBCQzhUVlNHeEttT3p4MmJOZ1NoUXhIQ2xoUWNKN2V2ckx3M1V2UVpIWjBUNUVwdHJ2RG1reHVkWGw4eDVFMmkydU1rYytQMmozZ1BJMGcrYjNESGJNY0xyZldoSk9nV3RXdE9nZ3hBbFA3bmUyWnc0QlJHYlRrbVp6OVdyckFWNVhKUGpiVXo1VkVrU0JSUWRKUzhPeHU2TElMaTVsMjJjNXFvLzNRR3d3bFNzd1p4NjFKUlJHYU1sa3pvMGh0TDZabDBGQ3VxaVVqd3JnTE9pTVcwZElVSy95eTZhSEVVY1B1eTBxcllIaldpUHg2c1NjbDlmR3lYMWdlK0h3NDVmdWxGMVlyWmFzdzgvazluaGdYNlZlYWhWR2xJaElST1A1NEJnR2hwZnNGek1sREVmM1BkNHhrbnNWTlJuMllDU2EwT25MMXJMTjYxbkhCQTNXWDFhYWViSU5zOWc5Z1JiUDdQOGcvNGxMYTRlRVo4NE5USERxT0RpSGVtUkFCZFBGb3NxMTFYNjBjNWIxOVk0aU5obk93b1hlc1ZaYVJrSkdwZnovRm9SRE9qelNPQ3F3TGQzU0lVN0k3b1FNV2NvNFNpem9tUzJxTHQveFNKUHcwaUlBTmVrWHZiSFE2MjVoaFVjVnFBTFFLNGhITy9sUWsvNGo1amVIaHQwOEYvLzh1SlQyYXZOZUZkTnR0UmdIanlpRHZTamhuMkwxZXgxcWtFamNTcENzYTg3KzdsSUxZV1JjbFpDcTRzY2xaS05hOWdXaEpFeVRNQjdVNVBPc2o4WDR4MHliSkNaMjF2ZWdnODFKbEZMSER6STg5Zzl3ZG1mbXJzeGMwdG9QUWEvL09XVHNuV0hLYWgwTmRVbnBVU2lkTUw2TDEzR205dHJEWUp1bWwwM1JkcnpVb2xvMEN5Y1BIRUViKy9QaDFGWDhESWpUS2M5V0RzOVFqV2FpcEd1OUtMVGhlVUlqdC96eWIzWWJlenNlK0djSGFvQmJvdGJLbGF1NzhTYStQa2laY0ttek1JQmdBUks1VVZlaFFMdXAzQW1FZ0dPUGxHSFRHbjhqcy9naStxVEdzRDQzNmpVcmhnZE1lb2lmenovZ2cra3NjRDhuVUVqdkc2d2dCOWtrL1dPTWdzNVJyKzdZWjVHWE9kVmU1cmNJMEEwckExZmJzWkJrS0pFWG15bk9zQytjUEpJQlFueTdnZ0UyTjdEc25JVjhSMWlMeFdWNjBMejhYRHJsOUM5MHRWTUdDWm9vY0tJV2hud0REL255TDd3NmNObWNQSGVHWXFvZk5nV3JhamxVeE11L01hMmpucFhoeUt5UDhXVnVCL09vRUdLdFhPcGp0RW5tMjFPNUVwaU9UNzNITlJ1bnJYWFBBZTNoZkFEUGRoS2dwZWpGbU1ZL2Jjb05MVmpydjRVNEg3RmdteEoxclppU3paZ3c5Y1NhcEgvaEhDRHdTSGpzSzFwc21IZzcwR0c4bjJaajdwc1R2S05GWEc0NnY3NjlZUmhsekI3MzFXQTJicFdOcWpIRkNacEVrKzJnME4vMm1VbXNoTzM5RVZ0cC9CRHpFVWlPU0szVis0R2FvMDVpK0JZbWxDVXR6czc1M09Ka2c1M0dJZXlHeFgzMU9yYVZzcURJWnMzcllsZnAxSmJXQUFldWl5K0pYenNCTVFpWGhSRS9HMEVZMGJ3Yk9TZjhPUkFYTUNyVjZyMmtMUXBVZFphUi90UDhyeTlHVGd4dloxdUR3c3JOVDIrQnFnMWVsMk52UTkrR3Q4a1lhUmNyZkdQaXRqVGZqUTYwcG9CTzhYd2VxWFFGL1dHK2NpSkIzVVVXWlNNOXV1ZkdlZkpZZXFlc1VrNVhYVlk5czV6QjZuNEltWW1TM0ZITlNXZGxSNU1VdktOS3FqaEFKbUF3MnlWdXRUcmw4UHArQVJRSmxhT2pqUFQ2SmZwbVAwdVFocFM1a1F3bFhPb1dnbS9JTkhiL1loREdIY3VUN0Y0MnVLalI3cHJVK1R6cFp6eEtIUEo2Rkg1YkUxV09pSmpYS2dDRGszbi9teEhSZW1wQUE4ZXVtcjBmZUJxYmZsMVNHdlo3Tmg2bjh2ZUlhTGhjU292SklBTEJ3bktJVnN4UDVDNk1uZEJSM1VqM05KVGUwUGxVTGFReGdkS3dpS1VTU2wrZDNJNmRVb216U0JDUXVmblY5WW42YmpXdzlacHdrUXY2djFtRkJlQ2U4bnNxT3lVTk1EaU1SQWVPbU1Nc1VQR09QMVhCeHVnQWdXSGVVa3h2R1RJR2NuV3RhWFFxbFgxRHJpd2RPOFRZaFVDTGJDajZtZnpQWXRaamdRc0Z1TEJYT1pXckFubWNoMC9GMXd3eURXSEsxQ1VHZWlMVVQ3Y3hqOWhFRmRBZTV3NVBqcnp2M3hZZXJ1aVE1aU93dWZucTcvb0NmWWFqU0tOeUMvbmFTb2RVYjFyMEhHZC9wQlNOV0JKTXB2MHJJNFAwSnpwMVZnMXpFQnZUUHlQUEVhK01nYzF1UjlkazVjVkVPdmVwY1c5YkN3ajc1NTJjbm1kbXp2empERitUZUJtRFFYRWZ1eUxGdmVMdFNPRDlZVUxTQVBGMkJTaTFwSkkxbjdid29BQno1YTMrTlh5UnZpTlh2Y1VTNHNHSk43WFF3MUl1YUUxdW0zblNLSzZPT1Z5akxHdDFuQW1FUEljQ1NvSlJzYStTRUUrTHFiL1M2aVNXclpKVzBzVkU5Wk9oZTlhVCtuSkxLT1FFSUhWNWg1ZmlxZ2hPb05ROHdGTm9VZllYK09Xc1ZXR0RSTlpqYVdzV0g0SlJMZDBVRUhzVjNkakNtdUhXb3BUeTBpbjdiUW5naE5xTC9rbUI2T1k0eEZYdTl2dXJRUDJIUEJpZ1oyV2hmTlFKSEZCaWdlakw5NzNtaUtDSFBwS1EvRXNSSXhRbFVVSDVIZnZOTUc0cXJINXZFZ3Iybk1KNTFhUC90VG5lREtKaGduVjBxWnpudXlCejV3dlV6aHlNM2x1SDliZExMaCsyekRkTUgwVVlZd1p3S3h4TTYvWEs4WXN6cmhJVjd2dlZ1ZGhHd1BVYWs4bEgxeFFrZTdFK01EKzY1SlNhdFBUSTNEUmdKOUVUM0NnbXBJOTJ1NHNPRm5yN1pQWU5mQVVFVTdmUXVwQ2p0cWZtWEgwSy9rUmszUTlXZUIySmFRaXZnWDRhUDlZYXFjQTdYNFZCM1EvWDY3TjRzdnhWWEszTG05VEROV0t4d1g5dzl3L3hNR3RWbWFGQkN0N1YyNlUrUHVFQldKQ0VCQ2Rla2pBNVUxWVBKdEdkdFdxdWU0L0s2RVo2NlV4cUVkbmJZUWpDTW4yQlpCV2NubWF6TGhFRUdsYjZUVXNKRzZ4OWs3bkJFeFltRDFaS3hwNndLczZxUzVnU0tHS1JrTGMyOTF6NnF4bFhVT1ltOHplSjdEeEF4SmhsOERxOXRBbWZXYWVNND0uUlVqcFgtNDA3cmFqdmlSeWJPbmlnVU01ME9JZXA5MHFma2I5QzVUTFh1VkNqNnFBTWhRUS1BWFNhbGxKZnVQd2lpbjJmeFI1b3Q2clpxNVF5cGhGU1E="/><input type="hidden" name="_eventId" value="submit"/><input type="hidden" name="geolocation"/><input class="el-button el-button--primary el-button--medium is-round"\n                               name="button"\n                               accesskey="l"\n                               tabindex="6"\n                               type="button"\n                               value="LOGIN"\n                               \n                               style="width: 100%"\n                        /><input \n                               name="submit"\n                               type="submit"\n                               value="Login1"\n                               style="display:none; width: 100%"\n                        /></el-form-item>\n\n                <el-form-item style="margin-bottom: 10px">\n                        <div id="loginError1" style="display: none;">\n  <el-alert title="Invalid credentials." type="error"\n    :closable="false">\n  </el-alert>\n                        </div>\n                </el-form-item>\n\n  <script type="text/javascript">\n  $( document ).ready(function() {\n    var currentMenu = localStorage.currentMenu;\n    if (currentMenu == "1") {\n      var container = $("#loginError1");  container.show();\n      var originalUsername = "2021264411";\n      if (originalUsername == null) {\n        originalUsername = "2021264411";\n      }\n      var hasErrors = true;\n      var errors = ["Invalid credentials."];\n      showError(container, originalUsername, hasErrors, errors);\n    }\n  });\n  </script>\n\n              </el-form>\n\n            </div>\n\n            </div>\n\n              <div class="card">\n\n            <div v-show="currentMenu==2">\n\n              <el-form style="margin: 20px" method="post" id="fm2" action="login">\n\n                <div class="el-form-item el-form-item--small" style="margin-bottom: 15px">\n                  <div class="el-form-item__content">\n                    <div class="sw-input el-input el-input--default el-input--prefix sw-input--circular">\n\n                            <div>\n                                <input class="el-input__inner"\n                                       placeholder="Enter your Mobile" title="Enter your Mobile" id="username"\n                                       name="username"\n                                       size="25"\n                                       tabindex="1"\n                                       type="text"\n                                       value="2021264411"\n                                       accesskey="m"\n                                       autocomplete="off"/></div>\n                            <span class="el-input__prefix"><i class="su-input-icon black su-input-icon-prefix el-input__icon su-icon-people"></i></span>\n                    </div>\n                  </div>\n                </div>\n\n                <div class="el-form-item el-form-item--small" style="margin-bottom: 15px">\n                  <div class="el-form-item__content">\n                    <div class="sw-input su-input-text-button el-input el-input--defualt el-input-group el-input-group--append el-input--prefix sw-input--circular">\n\n                                <input class="el-input__inner"\n                                       placeholder="Enter the Dynamic Code" title="Enter the Dynamic Code" type="password"\n                                       id="password"\n                                       size="25"\n                                       tabindex="2"\n                                       accesskey="d"\n                                       autocomplete="off" name="password" value=""/><span class="el-input__prefix"><i class="su-input-icon black su-input-icon-prefix el-input__icon su-icon-dyncode"></i></span>\n                      <span class="el-input__suffix" style="right: 97px;"><span class="el-input__suffix-inner" style="display: inline-block;"><i class="el-input__icon su-icon-hide el-input__clear" style="line-height: 32px;" onclick="javascript: togglePassword(this);"></i></span></span>\n                      <div class="el-input-group__append">\n                        <button type="button" class="el-button el-button--default el-button--small" onclick="javascript:sendToken(this);"><span>Send</span></button>\n                      </div>\n\n                    </div>\n                  </div>\n                </div>\n\n                <el-form-item style="margin-bottom: 10px">\n                        <input type="hidden" name="currentMenu" value="2"/><input type="hidden" name="execution" value="6aa1a254-0851-4a16-ada2-91be8e393666_ZXlKaGJHY2lPaUpJVXpVeE1pSjkuOFlweno5WWwwWDk1ZjU5T24xNG45R3p3M0swejdVZVg3ajFtRWVLekZxUm1vVmYyYmk1eE54c0NXM0tWT291NHJGZ1k3N1VjQ1FwdDQvbktXeEFjeFAyNm5kV01lemorWXBUalhGMFdtZlg4Q291b0VpbnArd3ArT3lyeHVaMnpXZDFmS1RVZGdvR2J6Q2dQWjdKV0NFOE9yY1VHakRlNnUzWng4dUZCR3pRQnJ6dlFVRFlqR3NLY0VDUlZYZ1JrM2JKbTcvdDJDN2hQeHJ3bnlSSWlBZ3lSMHRDSUdUOXNkVnNUNVhuTUd0cTVlOGQzc0lseXVCV2wxODVjQXA3WGMyTU5jUGluaG5qc2NMU3QxbGQ4d3NIV0VFbU9oOFAxYkJsdVBXVkc5c1lmeU1MQkhUN3YzYmpjSW9pbVd2aWdGWnhWR2I0QzB0T0p5aC9kZndYTGdJanhIZVgvY1F2M3ExMEtpL2JvL3ovNlRaMkkzRXVOMjVLWk1GTjhqOHo4eG80eEFxMHl0ZWg4ZU5UTXJUQUdHQTZhUTU4Mzd6UEthVDFxN2JRcW9ZRldYUm1UNVY5TlA0WllCNVNQbDgzVDN2TU9aSHBzR0dNMzQzcllFNGl2em9mQmo3TjFhd2c1NlZjRm5QVWNacVZHOTYrVVdSN3NWTFpGa0hZTVl6VHNJU0YxanY2S0U1dXQvYjhwOHUvc0RFbmNvS3Y4bVlFSnYzazUvaGNVWmw3VFFvTHJWTnFjZFVnNjIyenNCMUZlVHJnMlBBclQ5QkdxejFKTTZjMkJGelVjd3JuMUFkTjI4OWNFTGI1aEU5Nkl6QW45MjZkNjUyL0xCcXF2TmdIdXRJOXRCSjB2clEwME4wbmg4UWpHbmVIT1lnMHRRQmlaaWRIMVNqeWM5eDE4VXhqZXdOazFTVzVHV0FIUWpqNXI0dlFnZEpzZmdVb0xBVVhLQXVBZVlnWEhDMWxHNjNRMDNOZUxFYXF6ZllFVHN2dFRZcWZZbHdaMVJpSmhUbDNXMFhqci9DNGk5Zk1TQklIdCtxcmIySzRRQnBKS3l1NWJBWkFDQ1JIdng1c2E5RWxVSFo2ZlNqS3R6ZVFCejYzYmJlZUNMM3FiLzJhcHlwUy9CbWtIZm94d3Q1QkVEay9scHdIc1JWNmF4MEZFNTRNb3FmREREMUp1M1Z3bFNraEYyYWgzVTY2UG9UakVkRVk1Y1hTdE55Nm1QY2FxbjZiTERTakdhY0EyMTJsaGc4elI4M2pWL1hDL05uQ3p6UVZOaWl1b3dlanFkZCt0SS9zaUsyenkySE9NTHA4Wi93aUVTeG81eUxxY1M3MWZQR2hSNW5CdXdwQk5kTWlYalVnWEVKQXFyVFgrSXpybDdkSFdHZkZyWENSVldWWmc4Mjl6STZadlBCeUphWHc0TTlncUlwQ3JHOGpwYzRtT2Z4cTR3eDNnZ1diUVhxdW5lSk5IZnFpN2NGcFA5ZmkzRWFSNmdBODBoMkRkSUJwaTNTTWtNd0lqL3Erc1RDQnFnT1p3V2dma3FMNGc2QzBZaTJFVFA4SDRLR2FHS0p3OGg3Rk95SHBKMGVzWUVWb0s1YVVtREN3U2R1QzEzcEhzVE1pQmxjMU9paFBDU1FjQnZIWURLZFlheFR0dkZUcUZobUpJSHFldGs5YnBPYjE3VkVoQ0JudGt4YWVmS2xQYVR0YUhqdDVrbnFxdUR4TlQ3cU4zaFFOMzdKMkhtamlQSW1MT2FMWjUyZnF1amxXL3RUVEgrRzRyUnU4VWlMNXdMRGJqSVVkUkNDTlZGMGxQOHpmRnhCRWFRVi9DTlY4d2Q2dU9GdWFLSm5LZTBuS1NuR2ZETEVCaFlRdVYvUGtWQXljYXZ2RnNLb25uUHN4U1ViMlFyUkFqQTVVZGlIdytIeU94SU5GM3ROcTYxcGY2ajgxaVVvczQzL0dZRkVKeE00U3BSNjYwZ2hBYzJybVYvN3BJU0w4Z3pzZ1k0MnV0VGZGWThMMy93cGltY1NEejZiK3NRbEpGZE1RQTBqYmNTeDR2L2k4NTFMR3lSbzZvY2xUMzVZa25lcVhqN2hJcWE0cWc4Q2xRL3c5eTlocDgrVFNmaXcydUxIT3VjQ0JiQXJHMHBOK3RDczZvVXA5MGNuOUNGNTdrM05NcVhwV2gxc0tlTVd4ZE1qQ0NFVnd5NEw0TkRFbTR2ZkZibElEQjNSTjE4YVFBTHhnbEpKM2xNSGVkbm5mWEJIbVFiQ1p2T1RzeFR3WVoxYUFOcGxDMGY3LzhaZk1rSEhmNS9JQmN1RDZjWENEWUN0Nk1QZkFtVEg1N1NyWUR4cVFwRnFUQUdmS1RxaXowZEd2Nnh6V2xNUEZlQkQ0WHhMdHArQkRPTEpaUStzTzNaQ3IxRXNuTzVXQWtTbFFyZHZjRWF6YmpIaU5EVDlOOGNwcWN1eERwbnZKSEErUkkwNHJFRjgrYXNmVkpENDFiRXNQK05TdjU0OCtMTmlqUWoyc0I5cjJHRVh5cTBmSEtVU1puWUQ2dDlMbW5UTjhUNlBzRm5mMllPWkpQL0xFNmppUHErbmZUcjVSRDlCbnBGUW9adXVwK3hCWEN2YVNIT3BYZWkrRU9BcVEzM3YyUHFMTzNCR1drTzRMZC9rcjFsZU1xajNuR1RjTlpZQWNzUFJlY2ZBdklWR1FTL3FRRlkzR3RvL0ZKWS9WUzNwR2ZkbUQ1Z1JVTGI0QjdPb1V1eDVneXRxcVh2VHJMTVVlMUJpY0lpOXdibkFuWm84UWdXd3RaOW1BOTFVS0loczdHODd3dU5kWTJzR3Brd2FUMHo4SWZRUzQ2cEd2aXVPSU1ja1FHRm5ieFV4czU0VU9oa2hlY3BRcjNNMmxodXdQTHNxOVNlZ2tydTFISkhnbkY4ZTJnaDRrOEpqanVZNUo5YThVa1p1RThkckxWcXNJUWdERWRydThYYVZSd2RHREdxU3ZZNXNkQk9KWWZObTBoMzM2amwvVldaK1orcDBoc1YyV0hQTm1aMVBuK3RXdTJ6TkVzbEdDWGtKSlFSSEF2NUJkVHlHTDlOWllab2hxVmErOHh2UTcwaWtBRkVKeEpXdTgwUVQxeE9oWXRjbDBQTWYvOVZwME5peW4rbi95RjhEdWtpQWk1Nmk4elhkUUdvV1pYNkM3Vi9sNUdTa2loMEY3MzdWMDIxMFVreVdVYTNpdlVBaklpcUVTTjBCQzhUVlNHeEttT3p4MmJOZ1NoUXhIQ2xoUWNKN2V2ckx3M1V2UVpIWjBUNUVwdHJ2RG1reHVkWGw4eDVFMmkydU1rYytQMmozZ1BJMGcrYjNESGJNY0xyZldoSk9nV3RXdE9nZ3hBbFA3bmUyWnc0QlJHYlRrbVp6OVdyckFWNVhKUGpiVXo1VkVrU0JSUWRKUzhPeHU2TElMaTVsMjJjNXFvLzNRR3d3bFNzd1p4NjFKUlJHYU1sa3pvMGh0TDZabDBGQ3VxaVVqd3JnTE9pTVcwZElVSy95eTZhSEVVY1B1eTBxcllIaldpUHg2c1NjbDlmR3lYMWdlK0h3NDVmdWxGMVlyWmFzdzgvazluaGdYNlZlYWhWR2xJaElST1A1NEJnR2hwZnNGek1sREVmM1BkNHhrbnNWTlJuMllDU2EwT25MMXJMTjYxbkhCQTNXWDFhYWViSU5zOWc5Z1JiUDdQOGcvNGxMYTRlRVo4NE5USERxT0RpSGVtUkFCZFBGb3NxMTFYNjBjNWIxOVk0aU5obk93b1hlc1ZaYVJrSkdwZnovRm9SRE9qelNPQ3F3TGQzU0lVN0k3b1FNV2NvNFNpem9tUzJxTHQveFNKUHcwaUlBTmVrWHZiSFE2MjVoaFVjVnFBTFFLNGhITy9sUWsvNGo1amVIaHQwOEYvLzh1SlQyYXZOZUZkTnR0UmdIanlpRHZTamhuMkwxZXgxcWtFamNTcENzYTg3KzdsSUxZV1JjbFpDcTRzY2xaS05hOWdXaEpFeVRNQjdVNVBPc2o4WDR4MHliSkNaMjF2ZWdnODFKbEZMSER6STg5Zzl3ZG1mbXJzeGMwdG9QUWEvL09XVHNuV0hLYWgwTmRVbnBVU2lkTUw2TDEzR205dHJEWUp1bWwwM1JkcnpVb2xvMEN5Y1BIRUViKy9QaDFGWDhESWpUS2M5V0RzOVFqV2FpcEd1OUtMVGhlVUlqdC96eWIzWWJlenNlK0djSGFvQmJvdGJLbGF1NzhTYStQa2laY0ttek1JQmdBUks1VVZlaFFMdXAzQW1FZ0dPUGxHSFRHbjhqcy9naStxVEdzRDQzNmpVcmhnZE1lb2lmenovZ2cra3NjRDhuVUVqdkc2d2dCOWtrL1dPTWdzNVJyKzdZWjVHWE9kVmU1cmNJMEEwckExZmJzWkJrS0pFWG15bk9zQytjUEpJQlFueTdnZ0UyTjdEc25JVjhSMWlMeFdWNjBMejhYRHJsOUM5MHRWTUdDWm9vY0tJV2hud0REL255TDd3NmNObWNQSGVHWXFvZk5nV3JhamxVeE11L01hMmpucFhoeUt5UDhXVnVCL09vRUdLdFhPcGp0RW5tMjFPNUVwaU9UNzNITlJ1bnJYWFBBZTNoZkFEUGRoS2dwZWpGbU1ZL2Jjb05MVmpydjRVNEg3RmdteEoxclppU3paZ3c5Y1NhcEgvaEhDRHdTSGpzSzFwc21IZzcwR0c4bjJaajdwc1R2S05GWEc0NnY3NjlZUmhsekI3MzFXQTJicFdOcWpIRkNacEVrKzJnME4vMm1VbXNoTzM5RVZ0cC9CRHpFVWlPU0szVis0R2FvMDVpK0JZbWxDVXR6czc1M09Ka2c1M0dJZXlHeFgzMU9yYVZzcURJWnMzcllsZnAxSmJXQUFldWl5K0pYenNCTVFpWGhSRS9HMEVZMGJ3Yk9TZjhPUkFYTUNyVjZyMmtMUXBVZFphUi90UDhyeTlHVGd4dloxdUR3c3JOVDIrQnFnMWVsMk52UTkrR3Q4a1lhUmNyZkdQaXRqVGZqUTYwcG9CTzhYd2VxWFFGL1dHK2NpSkIzVVVXWlNNOXV1ZkdlZkpZZXFlc1VrNVhYVlk5czV6QjZuNEltWW1TM0ZITlNXZGxSNU1VdktOS3FqaEFKbUF3MnlWdXRUcmw4UHArQVJRSmxhT2pqUFQ2SmZwbVAwdVFocFM1a1F3bFhPb1dnbS9JTkhiL1loREdIY3VUN0Y0MnVLalI3cHJVK1R6cFp6eEtIUEo2Rkg1YkUxV09pSmpYS2dDRGszbi9teEhSZW1wQUE4ZXVtcjBmZUJxYmZsMVNHdlo3Tmg2bjh2ZUlhTGhjU292SklBTEJ3bktJVnN4UDVDNk1uZEJSM1VqM05KVGUwUGxVTGFReGdkS3dpS1VTU2wrZDNJNmRVb216U0JDUXVmblY5WW42YmpXdzlacHdrUXY2djFtRkJlQ2U4bnNxT3lVTk1EaU1SQWVPbU1Nc1VQR09QMVhCeHVnQWdXSGVVa3h2R1RJR2NuV3RhWFFxbFgxRHJpd2RPOFRZaFVDTGJDajZtZnpQWXRaamdRc0Z1TEJYT1pXckFubWNoMC9GMXd3eURXSEsxQ1VHZWlMVVQ3Y3hqOWhFRmRBZTV3NVBqcnp2M3hZZXJ1aVE1aU93dWZucTcvb0NmWWFqU0tOeUMvbmFTb2RVYjFyMEhHZC9wQlNOV0JKTXB2MHJJNFAwSnpwMVZnMXpFQnZUUHlQUEVhK01nYzF1UjlkazVjVkVPdmVwY1c5YkN3ajc1NTJjbm1kbXp2empERitUZUJtRFFYRWZ1eUxGdmVMdFNPRDlZVUxTQVBGMkJTaTFwSkkxbjdid29BQno1YTMrTlh5UnZpTlh2Y1VTNHNHSk43WFF3MUl1YUUxdW0zblNLSzZPT1Z5akxHdDFuQW1FUEljQ1NvSlJzYStTRUUrTHFiL1M2aVNXclpKVzBzVkU5Wk9oZTlhVCtuSkxLT1FFSUhWNWg1ZmlxZ2hPb05ROHdGTm9VZllYK09Xc1ZXR0RSTlpqYVdzV0g0SlJMZDBVRUhzVjNkakNtdUhXb3BUeTBpbjdiUW5naE5xTC9rbUI2T1k0eEZYdTl2dXJRUDJIUEJpZ1oyV2hmTlFKSEZCaWdlakw5NzNtaUtDSFBwS1EvRXNSSXhRbFVVSDVIZnZOTUc0cXJINXZFZ3Iybk1KNTFhUC90VG5lREtKaGduVjBxWnpudXlCejV3dlV6aHlNM2x1SDliZExMaCsyekRkTUgwVVlZd1p3S3h4TTYvWEs4WXN6cmhJVjd2dlZ1ZGhHd1BVYWs4bEgxeFFrZTdFK01EKzY1SlNhdFBUSTNEUmdKOUVUM0NnbXBJOTJ1NHNPRm5yN1pQWU5mQVVFVTdmUXVwQ2p0cWZtWEgwSy9rUmszUTlXZUIySmFRaXZnWDRhUDlZYXFjQTdYNFZCM1EvWDY3TjRzdnhWWEszTG05VEROV0t4d1g5dzl3L3hNR3RWbWFGQkN0N1YyNlUrUHVFQldKQ0VCQ2Rla2pBNVUxWVBKdEdkdFdxdWU0L0s2RVo2NlV4cUVkbmJZUWpDTW4yQlpCV2NubWF6TGhFRUdsYjZUVXNKRzZ4OWs3bkJFeFltRDFaS3hwNndLczZxUzVnU0tHS1JrTGMyOTF6NnF4bFhVT1ltOHplSjdEeEF4SmhsOERxOXRBbWZXYWVNND0uUlVqcFgtNDA3cmFqdmlSeWJPbmlnVU01ME9JZXA5MHFma2I5QzVUTFh1VkNqNnFBTWhRUS1BWFNhbGxKZnVQd2lpbjJmeFI1b3Q2clpxNVF5cGhGU1E="/><input type="hidden" name="_eventId" value="submitPasswordlessToken"/><input type="hidden" name="geolocation"/><input class="el-button el-button--primary el-button--small is-round"\n                               style="width: 100%;height: 40px;font-size: 16px;"\n                               name="submit"\n                               accesskey="l"\n                               tabindex="6"\n                               type="submit"\n                               value="LOGIN"\n                        /></el-form-item>\n\n                <el-form-item style="margin-bottom: 10px">\n                        <div id="loginError2" style="display: none;">\n  <el-alert title="Invalid credentials." type="error"\n    :closable="false">\n  </el-alert>\n                        </div>\n                </el-form-item>\n\n  <script type="text/javascript">\n  $( document ).ready(function() {\n    var currentMenu = localStorage.currentMenu;\n    if (currentMenu == "2") {\n      var container = $("#loginError2");  container.show();\n      var originalUsername = "2021264411";\n      if (originalUsername == null) {\n        originalUsername = "2021264411";\n      }\n      var hasErrors = true;\n      var errors = ["Invalid credentials."];\n      showError(container, originalUsername, hasErrors, errors);\n    }\n  });\n  </script>\n\n              </el-form>\n\n            </div>\n\n            </div>\n\n              <div>\n            \n            <div v-show="currentMenu==3" class="qrcode-wrap" style="height: 229px;">\n              \n              <div class="qrcode-wrapper" :class="{\'refresh-wrap\':isQrcodeAlert}">\n              \n              <div>\n                <img id="qrcode_img" class="qrcode-img" :src="\'\'+qrcodeImgUrl" alt="" v-if="qrcodeShow"><div id="qrcode_img_alert_layout" class="qrcode-hide" v-if="isQrcodeAlert">\n                  <div class="qrcode-no">\n                    <i class="su-icon-warning" style="display: block;font-size: 30px;color: #F5A623;"></i>\n                    <span>{{qrcodeAlertMessage}}</span>\n                  </div>\n                  <div>\n                    <sw-button round type="primary" size="mini" @click="refreshQrCode">刷新二维码</sw-button>\n                  </div>\n                </div>\n              </div>\n              \n              <img class="phone-img" src="/cas/themes/nwpu/images/nwpu/phone.png" alt=""></div>\n              \n              <div class="qrcode-tip">打开 “<span>西北工业大学APP</span>” 扫描二维码</div>\n              \n              <form method="post" id="fm3" action="login" style="display: none;">\n                <input type="hidden" name="qrCodeKey" v-model="stateKey"/><input type="hidden" name="currentMenu" value="3"/><!-- <input type="hidden" name="execution" th:value="${flowExecutionKey}"/>\n                <input type="hidden" name="_eventId" value="submit"/> --><input type="hidden" name="geolocation"/><input class="btn btn-submit" name="_eventId_success" type="submit" value="Submit"/></form>\n\n            </div>\n\n            </div>\n\n\n              <div style="margin: 10px 20px">\n                <div class="el-row">\n                  <span style="position:relative;top:-7px;font-size:12px;color:#021525;">Or login with:</span>\n\n\n                      <div style="margin:0 5px;font-size:30px;display: inline-block;width: 30px;height: 30px;border-radius: 30px;cursor: pointer">\n                        <a href="/cas/federatedRedirect?federatedName=qq" title="QQ" >\n                        <img src="/cas/themes/nwpu/images/qq.png" style="width: 30px;height: 30px; border: 0;" /></a>\n                      </div>\n                      <!-- /*\n                        <i th:case="openweixin" \n                           class="su-icon-weixinbian" style="color:#0EBB07;" onmouseover="javascript: this.className=\'su-icon-wechat\';" onmouseout="javascript: this.className=\'su-icon-weixinbian\';"></i>\n                        <i th:case="qq" \n                           class="su-icon-QQbian" style="color:#1196DB;" onmouseover="javascript: this.className=\'su-icon-tencent\';" onmouseout="javascript: this.className=\'su-icon-QQbian\';"></i>\n                        <i th:case="workweixin" \n                           class="su-icon-wechat-company" style="color:#0082EF;" onmouseover="javascript: this.className=\'su-icon-wechat-company\';" onmouseout="javascript: this.className=\'su-icon-wechat-company\';"></i>\n                        <i th:case="alipay" \n                           class="su-icon-alipay" style="color:#08ABE4;" onmouseover="javascript: this.className=\'su-icon-alipay\';" onmouseout="javascript: this.className=\'su-icon-alipay\';"></i>\n                        */ --><div style="margin:0 5px;font-size:30px;display: inline-block;width: 30px;height: 30px;border-radius: 30px;cursor: pointer">\n                        <a href="/cas/federatedRedirect?federatedName=openweixin" title="WeChat" >\n                        <img src="/cas/themes/nwpu/images/wechat.png" style="width: 30px;height: 30px; border: 0;" /></a>\n                      </div>\n\n                        <!-- /*\n                        <i th:case="openweixin" \n                           class="su-icon-weixinbian" style="color:#0EBB07;" onmouseover="javascript: this.className=\'su-icon-wechat\';" onmouseout="javascript: this.className=\'su-icon-weixinbian\';"></i>\n                        <i th:case="qq" \n                           class="su-icon-QQbian" style="color:#1196DB;" onmouseover="javascript: this.className=\'su-icon-tencent\';" onmouseout="javascript: this.className=\'su-icon-QQbian\';"></i>\n                        <i th:case="workweixin" \n                           class="su-icon-wechat-company" style="color:#0082EF;" onmouseover="javascript: this.className=\'su-icon-wechat-company\';" onmouseout="javascript: this.className=\'su-icon-wechat-company\';"></i>\n                        <i th:case="alipay" \n                           class="su-icon-alipay" style="color:#08ABE4;" onmouseover="javascript: this.className=\'su-icon-alipay\';" onmouseout="javascript: this.className=\'su-icon-alipay\';"></i>\n                        */ --></div>\n              </div>\n\n    <div style="margin: 10px 20px">\n                <el-row style="text-align: center">\n                  <a href="/cas/personal/activeYourAccount" target="_blank" style="text-decoration-line: none;">\n                    <button type="button" class="el-button el-button--text el-button--small" style="font-size: 14px;"><span>Active your account</span></button>\n                  </a>\n                  \n                </el-row>\n              </div>\n              \n            </div>\n          \n          </div>\n        </div>\n\n      </el-row>\n      \n      <el-row style="margin:30px 50px;color:#2367B1">\n\n        <el-row>\n          <a href="https://ecampus.nwpu.edu.cn/active.html" target="_blank" style="text-decoration-line: none;"><button type="button" class="el-button el-button--text el-button--small" style="font-size: 14px; margin-right: 30px;"><i class="su-icon-bulb"></i><span>账号激活攻略</span></button></a>\n          <a href="https://ecampus.nwpu.edu.cn/forget.html" target="_blank" style="text-decoration-line: none;"><button type="button" class="el-button el-button--text el-button--small" style="font-size: 14px; margin-right: 30px;"><i class="su-icon-lock-copy"></i><span>密码找回攻略</span></button></a>\n          <a href="https://user-query.nwpu.edu.cn/user-query/newSearchNum" target="_blank" style="text-decoration-line: none;"><button type="button" class="el-button el-button--text el-button--small" style="font-size: 14px; margin-right: 30px;"><i class="su-icon-chaxun"></i><span>本科新生学号查询</span></button></a>\n          <a href="https://dev-portal.nwpu.edu.cn/" target="_blank" style="text-decoration-line: none;"><button type="button" class="el-button el-button--text el-button--small" style="font-size: 14px; margin-right: 30px;"><i class="su-icon-yifasong"></i><span>开放平台</span></button></a>\n\n\n          <span  style="position:relative;float:right;color:#021525A6;font-size: 12px;height: 25px; display:inline-block;">\n            <span style="font-size: 14px; display:inline-block;line-height: 20px;height: 20px;">建议浏览器</span>\n\n            <span style="cursor: pointer; display:none;line-height: 20px;height: 20px">\n              <a :href="support[0].url" target="_blank"><img style="width: 16px;height: 16px;vertical-align: middle;margin:0 4px;" :src="support[0].img"/></a>\n            </span>\n            <span style="cursor: pointer; display:inline-block;line-height: 20px;height: 20px">\n              <a :href="support[1].url" target="_blank"><img style="width: 16px;height: 16px;vertical-align: middle;margin:0 4px;" :src="support[1].img"/></a>\n            </span>\n            <span style="cursor: pointer; display:inline-block;line-height: 20px;height: 20px">\n              <a :href="support[2].url" target="_blank"><img style="width: 16px;height: 16px;vertical-align: middle;margin:0 4px;" :src="support[2].img"/></a>\n            </span>\n            <span style="cursor: pointer; display:inline-block;line-height: 20px;height: 20px">\n              <a :href="support[3].url" target="_blank"><img style="width: 16px;height: 16px;vertical-align: middle;margin:0 4px;" :src="support[3].img"/></a>\n            </span>\n            <span style="cursor: pointer; display:inline-block;line-height: 20px;height: 20px">\n              <a :href="support[4].url" target="_blank"><img style="width: 16px;height: 16px;vertical-align: middle;margin:0 4px;" :src="support[4].img"/></a>\n            </span>\n\n            <!-- /* <span style="cursor: pointer; display:inline-block;line-height: 20px;height: 20px" @mouseout="browserActive=-1" @mouseover="browserActive=index" v-for="(item,index) in support"> */ --><!-- /*\n              <div style="margin: 0 5px;font-size: 18px;line-height: 20px;height: 20px;" v-show="browserActive!=index">\n                <i  @click="browserHandle(item.route)" class="browsers" :class="item.icon" style="position:relative;top:0px;"></i>\n              </div>\n              */ --><!-- /*\n              <div style="margin: -2px 5px 0;font-size: 18px;line-height: 20px;height: 20px; ">\n                <i  @click="browserHandle(item.route)" class="browsers su-icon-1" :style="\'background:url(\'+item.img+\') no-repeat;background-size: 100% 100%;\'" style="position:relative;top:2px;vertical-align: baseline;width: 18px;height: 18px; display: inline-block; " :src="item.img"></i>\n              </div>\n              */ --><!-- /* <img style="width: 16px;height: 16px;vertical-align: middle;margin:0 4px;" :src="item.img"/> */ --><!-- /* </span> */ --></span>\n\n        </el-row>\n\n        <el-row style="color:#021525A6;font-size: 12px">\n          <div><p class="information" style="margin-bottom:10px;"><span>信息化建设与管理处：88491717</span><span>电邮：app@nwpu.edu.cn</span><span>QQ群：540478672</span></p><p>Copyright © 2020 Northwestern Polytechnical University All Rights Reserved</p></div>\n        </el-row>\n\n      </el-row>\n    \n    </el-row>\n  \n  </div>\n\n    <div class="card">\n\n    <el-dialog v-if="mfaEnabled"\n      class="dialog-wrap"\n      title="安全验证"\n      :visible.sync="guardDialogVisible"\n      width="550px"\n      height="420px"\n      :before-close="hideGuardDialog">\n      \n      <div class="check-tips"><img src="/cas/themes/nwpu/images/tip.svg"></img>当前登录环境异常，需通过安全验证确认是本人操作后才可继续登录。请选择安全验证方式！</div>\n      \n      <div class="type-wrap">\n        <el-row type="flex" align="center" justify="space-between">\n          <el-col :span="12" class="safe-flex">\n            <img class="safe-title-icon" :src="typeInfo[typeIndex].icon" :alt="typeInfo[typeIndex].title" :title="typeInfo[typeIndex].title"><span class="type-title">{{typeInfo[typeIndex].info}}</span>\n          </el-col>\n          <el-col :span="12" class="safe-flex safe-flex2">\n            <span class="other-title">其他方式</span>\n            <span v-for="(type,index) in typeInfo" :key="index">\n              <img class="safe-icon" style="cursor: pointer;" v-if="index!=typeIndex && typeInfo[index].enabled" :src="type.icon2" :alt="type.title" :title="type.title" @click="changeGuard(index)" ></span>\n          </el-col>\n        </el-row>\n      </div>\n      \n      <div v-if="typeIndex==0" class="app-style" style="height: 102px;">\n        <div>点击发送验证请求后，请在 <span>西北工业大学APP</span> 上进行确认，完成安全验证</div>\n        <div class="code-wrap">\n          <div v-show="appPushCallbackCode" style="position: relative; text-align: center; font-size: 19px; margin-top: 15px;">确认码：{{appPushCallbackCode}}</div>\n          <div class="error-text" v-show="appPushStatusShowAlert" style="position: relative; text-align: center; font-size: 12px;">{{appPushStatusAlertMessage}}</div>\n        </div>\n      </div>\n      \n      <div v-if="typeIndex==1" class="phone-style-wrap" style="height: 160px; padding-bottom: 3px;">\n        <div class="phone-style" v-show="securePhone"><span>+86</span> {{securePhone}}</div>\n        <div class="code-wrap">\n          <el-input class="input-style" v-show="securePhone" v-model="securePhoneCode"></el-input>\n          <el-button type=\'text\' class="code-text" v-show="securePhone" @click="securePhoneSend" :disabled="securePhoneSendDisabled">{{securePhoneSendText}}</el-button>\n          <div class="error-text" v-show="securePhoneValidShowAlert" style="position: relative; text-align: center; font-size: 12px;">{{securePhoneValidAlertMessage}}</div>\n          <div class="error-text" v-show="!securePhone" style="position: relative; text-align: center; font-size: 12px;">安全手机未绑定，无法使用安全手机验证</div>\n        </div>\n      </div>\n      \n      <div v-if="typeIndex==2" class="phone-style-wrap" style="height: 160px; padding-bottom: 3px;">\n        <div class="phone-style" v-show="secureEmail">{{secureEmail}}</div>\n        <div class="code-wrap">\n          <el-input class="input-style" v-show="secureEmail" v-model="secureEmailCode"></el-input>\n          <el-button type=\'text\' class="code-text" v-show="secureEmail" @click="secureEmailSend" :disabled="secureEmailSendDisabled">{{secureEmailSendText}}</el-button>\n          <div class="error-text" v-show="secureEmailValidShowAlert" style="position: relative; text-align: center; font-size: 12px;">{{secureEmailValidAlertMessage}}</div>\n          <div class="error-text" v-show="!secureEmail" style="position: relative; text-align: center; font-size: 12px;">安全邮箱未绑定，无法使用安全邮箱验证</div>\n        </div>\n      </div>\n      \n      <div v-if="typeIndex==3" class="face-style-wrap" style="height: 152px; padding-bottom: 3px;">\n\n        <div class="qrcode" v-if=\'!qrCodeScanSuccess\'>\n          <img v-if="qrCodeScanQrcode" :src="qrCodeScanQrcode"><div class="qrcode-reset-opacity" v-if=\'qrCodeStatusShowAlert\'></div>\n          <div class="qrcode-reset-wrap" v-if=\'qrCodeStatusShowAlert\' @click="qrCodeRefresh">\n            <i class="el-icon-refresh-right"></i>\n            <div>点击刷新二维码</div>\n          </div>\n        </div>\n        <div v-if=\'!qrCodeScanSuccess\'>支持 {{qrCodeScanTypeNames}} 的扫一扫功能，完成安全验证</div>\n\n        <div class="face-sucess" v-if=\'qrCodeScanSuccess && qrCodeStatusShowAlert\'>\n          <img src="/cas/themes/nwpu/images/safe/dui.png"><div>{{qrCodeStatusAlertMessage}}</div>\n        </div>\n        <div v-if=\'qrCodeScanSuccess && qrCodeStatusShowAlert\' v-show="qrCodeCallbackCode" style="position: relative; text-align: center; font-size: 19px; margin-bottom: 15px;">确认码：{{qrCodeCallbackCode}}</div>\n        <div v-if=\'qrCodeScanSuccess && qrCodeStatusShowAlert\'>请在手机上点击同意以完成安全验证</div>\n      </div>\n      \n      <div v-if="typeIndex==4" class="face-style-wrap" style="height: 152px; padding-bottom: 3px;">\n        <div class="qrcode" v-if=\'faceType!=3\'>\n          <img src="./assets/img/qrcode.jpeg"><div class="qrcode-reset-opacity" v-if=\'faceType==2\'></div>\n          <div class="qrcode-reset-wrap" v-if=\'faceType==2\'>\n            <i class="el-icon-refresh-right"></i>\n            <div>点击刷新二维码</div>\n          </div>\n        </div>\n        <div class="face-sucess" v-if=\'faceType==3\'>\n          <img src="./assets/img/safe/dui.png"><div>扫描成功</div>\n        </div>\n        <div v-if="faceType!=3">打开手机App扫描二维码</div>\n        <div v-else>请在手机上点击同意以完成安全验证</div>\n      </div>\n      \n      <span slot="footer" class="dialog-footer" style="height: 50px; display: block;">\n        <el-button type="primary" v-if="typeIndex==0" @click="appPushSend" :disabled="appPushSendDisabled">{{appPushSendText}}</el-button>\n\n        <el-button type="primary" v-if="typeIndex==1" v-show="securePhone" @click=\'securePhoneValid\' :disabled="!securePhoneCode">确 定</el-button>\n        <el-button type="primary" v-if="typeIndex==2" v-show="secureEmail" @click=\'secureEmailValid\' :disabled="!secureEmailCode">确 定</el-button>\n\n      </span>\n\n    </el-dialog>\n\n            </div>\n  \n  </div>\n  \n  </div>\n\n<script type="text/javascript">\n  \n\n  var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i) != null;\n\n  var superappName = "\\u897F\\u5317\\u5DE5\\u4E1A\\u5927\\u5B66APP";\n\n  var currentMenu = localStorage.currentMenu;\n  // var currentMenu = "1";\n\n  var qrCodeEnabled = true;\n  var isQrcode = false;\n\n  if (currentMenu) {\n    \n  } else {\n    currentMenu = "3";\n  }\n\n  if (currentMenu == 3) {\n    if (qrCodeEnabled == true || qrCodeEnabled == \'true\') {\n      //currentMenu = "1";\n      isQrcode = true;\n    } else {\n      //currentMenu = "1";\n      isQrcode = false;\n    }\n  }\n  \n  var ppts = [];\n  var backgrounds = [];\n\n  if (ppts != null) {\n    for (var i = 0; i < ppts.length; i++) {\n      backgrounds[i] = ppts[i].fileurl;\n    }\n  }\n\n  if (backgrounds == null || backgrounds.length == 0) {\n    backgrounds = [\n                   "\\/cas\\/themes\\/nwpu\\/images\\/nwpu\\/bg.png"\n                 ];\n  }\n\n\n  var mfaEnabled = "true" == "true";\n\n  var mfaTypeAppPush = "false" == "true";\n  var mfaTypeSecurePhone = "true" == "true";\n  var mfaTypeSecureEmail = "true" == "true";\n  var mfaTypeQrCode = "false" == "true";\n//  var mfaTypeFaceVerify = "false" == "true";\n\n  if (isMobile) {\n    mfaTypeQrCode = false;\n//    mfaTypeFaceVerify = false;\n  }\n\n  var defaultTypeIndex = 0;\n  if (mfaTypeAppPush) {\n    defaultTypeIndex = 0;\n  } else if (mfaTypeSecurePhone) {\n    defaultTypeIndex = 1;\n  } else if (mfaTypeSecureEmail) {\n    defaultTypeIndex = 2;\n  } else if (mfaTypeQrCode) {\n    defaultTypeIndex = 3;\n//  } else if (mfaTypeFaceVerify) {\n//    defaultTypeIndex = 4;\n  }\n\n\n  var dialogVisible = false;\n  var SwUI = SWUI;\n  new Promise(function (resolve) {\n    Vue.use(SwUI, {\n      size: \'small\',\n      i18n: function (_i18n) {\n        function i18n(_x, _x2) {\n          return _i18n.apply(this, arguments);\n        }\n\n        i18n.toString = function () {\n          return _i18n.toString();\n        };\n\n        return i18n;\n      }(function (key, value) {\n        return i18n.t(key, value);\n      })\n    });\n  });\n  var vm = new Vue({\n    el: \'#vue_main\',\n    data: function data() {\n      return {\n        isMobile: isMobile,\n        background: 0,\n        backgrounds: backgrounds,\n        bg: "\\/cas\\/themes\\/nwpu\\/images\\/nwpu\\/top-bg.png",\n        logo: "\\/cas\\/themes\\/nwpu\\/images\\/nwpu\\/logo.png",\n        title: "\\/cas\\/themes\\/nwpu\\/images\\/nwpu\\/title.png",\n        currentMenu: currentMenu,\n        loading: false,\n        support:[\n                 {\n                   img: "\\/cas\\/themes\\/nwpu\\/images\\/nwpu\\/ie-icon.png",\n                   url: \'https://support.microsoft.com/zh-cn/help/17621/internet-explorer-downloads\'\n                 },\n                 {\n                   img: "\\/cas\\/themes\\/nwpu\\/images\\/nwpu\\/chrome-icon.png",\n                   url: \'https://www.google.cn/chrome/index.html\'\n                 },\n                 {\n                   img: "\\/cas\\/themes\\/nwpu\\/images\\/nwpu\\/firefox-icon.png",\n                   url: \'https://www.firefox.com.cn/\'\n                 },\n                 {\n                   img: "\\/cas\\/themes\\/nwpu\\/images\\/nwpu\\/360-icon.png",\n                   url: \'https://browser.360.cn/ee/\'\n                 },\n                 {\n                   img: "\\/cas\\/themes\\/nwpu\\/images\\/nwpu\\/sogou-icon.png",\n                   url: \'https://ie.sogou.com/\'\n                 }\n               ],\n        offset: 0,\n        browserActive: -1,\n        jointActive: -1,\n        dialogVisible: dialogVisible,\n        clientHeight: 0,\n\n        isQrcode: isQrcode,\n        qrcodeShow: false,\n        qrcodeImgUrl: "",\n        qrcodeTimeout: 0,\n        isQrcodeAlert: false,\n        qrcodeAlertMessage: "",\n        stateKey: "",\n\n\n        mfaEnabled: mfaEnabled,\n        guardDialogVisible: false,\n\n        typeList:[\'使用App推送认证\',\'使用安全手机认证\',\'使用安全邮箱认证\',\'使用客户端扫码\',\'使用人脸识别认证\'],\n        iconIndex:0,  //安全验证方式   0：app 推送；1：安全手机； 2：安全邮箱  3：客户端扫码  4：人脸识别\n        safeIcon2:[\n                   "\\/cas\\/themes\\/nwpu\\/images\\/safe\\/app2.png",\n                   "\\/cas\\/themes\\/nwpu\\/images\\/safe\\/phone2.png",\n                   "\\/cas\\/themes\\/nwpu\\/images\\/safe\\/email2.png",\n                   "\\/cas\\/themes\\/nwpu\\/images\\/safe\\/qrcode2.png",\n                   "\\/cas\\/themes\\/nwpu\\/images\\/safe\\/face2.png"\n                  ],\n        safeIcon:[\n                  "\\/cas\\/themes\\/nwpu\\/images\\/safe\\/app.png",\n                  "\\/cas\\/themes\\/nwpu\\/images\\/safe\\/phone.png",\n                  "\\/cas\\/themes\\/nwpu\\/images\\/safe\\/email.png",\n                  "\\/cas\\/themes\\/nwpu\\/images\\/safe\\/qrcode.png",\n                  "\\/cas\\/themes\\/nwpu\\/images\\/safe\\/face.png"\n                 ],\n\n        showError:false,  //是否显示验证码错误\n        typeInfo: [\n                   {\'type\':\'apppush\', \'enabled\': mfaTypeAppPush, \'title\':\'APP推送\', \'info\':\'使用APP推送验证\', \'icon\':"\\/cas\\/themes\\/nwpu\\/images\\/safe\\/app.png", \'icon2\':"\\/cas\\/themes\\/nwpu\\/images\\/safe\\/app2.png"},\n                   {\'type\':\'securephone\', \'enabled\': mfaTypeSecurePhone, \'title\':\'安全手机\', \'info\':\'使用安全手机验证\', \'icon\':"\\/cas\\/themes\\/nwpu\\/images\\/safe\\/phone.png", \'icon2\':"\\/cas\\/themes\\/nwpu\\/images\\/safe\\/phone2.png"},\n                   {\'type\':\'secureemail\', \'enabled\': mfaTypeSecureEmail, \'title\':\'安全邮箱\', \'info\':\'使用安全邮箱验证\', \'icon\':"\\/cas\\/themes\\/nwpu\\/images\\/safe\\/email.png", \'icon2\':"\\/cas\\/themes\\/nwpu\\/images\\/safe\\/email2.png"},\n                   {\'type\':\'qrcode\', \'enabled\': mfaTypeQrCode, \'title\':\'客户端扫码\', \'info\':\'使用客户端扫码\', \'icon\':"\\/cas\\/themes\\/nwpu\\/images\\/safe\\/qrcode.png", \'icon2\':"\\/cas\\/themes\\/nwpu\\/images\\/safe\\/qrcode2.png"},\n                   // {\'type\':\'faceverify\', \'enabled\': mfaTypeFaceVerify, \'title\':\'人脸识别\', \'info\':\'使用人脸识别验证\', \'icon\':"\\/cas\\/themes\\/nwpu\\/images\\/safe\\/face.png", \'icon2\':"\\/cas\\/themes\\/nwpu\\/images\\/safe\\/face2.png"},\n                   ],\n        typeIndex: defaultTypeIndex,  //安全验证方式   0：app 推送；1：安全手机； 2：安全邮箱  3：客户端扫码  4：人脸识别\n        faceType:1,  // 人脸识别认证状态  1  扫描二维码  2 刷新二维码  3 扫描成功\n        \n        \n        attestServerUrl: null,\n        gid: null,\n        \n        appPushSendTimeout: 0,\n        appPushSendDisabled: false,\n        appPushSendText: "点击发送验证请求",\n        appPushSendSeconds: 30,\n        appPushStatusTimeout: 0,\n        appPushStatusShowAlert: false,\n        appPushStatusAlertMessage: null,\n        appPushCallbackCode: null,\n\n        securePhone:\'\',\n        securePhoneSendTimeout: 0,\n        securePhoneSendDisabled: false,\n        securePhoneSendText: "获取验证码",\n        securePhoneSendSeconds: 60,\n        securePhoneCode:\'\',\n        securePhoneValidShowAlert: false,\n        securePhoneValidAlertMessage: null,\n\n        secureEmail:\'\',\n        secureEmailSendTimeout: 0,\n        secureEmailSendDisabled: false,\n        secureEmailSendText: "获取验证码",\n        secureEmailSendSeconds: 60,\n        secureEmailCode:\'\',\n        secureEmailValidShowAlert: false,\n        secureEmailValidAlertMessage: null,\n        \n        qrCode:null,\n        qrCodeScanTypeNames: "",\n        qrCodeScanQrcode: null,\n        qrCodeScanSuccess: false,\n        qrCodeStatusTimeout: 0,\n        qrCodeStatusShowAlert: false,\n        qrCodeStatusAlertMessage: null,\n        qrCodeCallbackCode: null,\n\n      };\n    },\n    mounted: function mounted() {\n      var _this = this;\n\n      this.clientHeight = document.documentElement.clientHeight; //获取浏览器可视区域高度\n\n      var width = 1600;\n      var maxwidth = 4000;\n      this.offset = document.body.clientWidth - width > 0 ? document.body.clientWidth - width : 0;\n\n      window.onresize = function () {\n        _this.offset = document.body.clientWidth - width > 0 ? document.body.clientWidth - width : 0;\n\n        if (_this.offset > maxwidth - width) {\n          _this.offset = maxwidth - width;\n        }\n\n        _this.clientHeight = document.documentElement.clientHeight;\n      };\n\n      localStorage.currentMenu = this.currentMenu;\n      \n      if (this.isQrcode) {\n        // 显示二维码\n        var self = this;\n        self.isQrcodeAlert = false;\n        self.qrcodeAlertMessage = "";\n        self.stateKey = "";\n        \n        this.qrInit();\n        /* this.qrcodeImgUrl = "\\/cas\\/qr\\/qrcode"+"?r=" +(new Date()).getTime()+ Math.floor(Math.random()*24);\n        this.qrcodeShow = true;\n        \n        window.setTimeout(self.startQrComet, 1000); */\n      }\n    },\n    methods: {\n      changeMenu: function changeMenu(index) {\n        this.currentMenu = index;\n        localStorage.currentMenu = this.currentMenu;\n        \n        if (this.currentMenu == "3") {\n          // 显示二维码\n          var self = this;\n          self.isQrcodeAlert = false;\n          self.qrcodeAlertMessage = "";\n          self.stateKey = "";\n          \n          this.qrInit();\n        } else {\n          var self = this;\n          self.isQrcodeAlert = false;\n          self.qrcodeAlertMessage = "";\n          self.stateKey = "";\n\n          this.qrcodeImgUrl = "";\n          this.qrcodeShow = false;\n\n          window.clearTimeout(self.qrcodeTimeout);\n        }\n      },\n      browserHandle: function browserHandle(route) {\n        window.open(route);\n      },\n      showErrorMessageUsername: function showErrorMessageUsername() {\n        var message = "Enter your Username" + "\\u8BF7\\u8F93\\u5165\\u7528\\u6237\\u540D\\/\\u624B\\u673A\\/\\u90AE\\u7BB1\\/\\u8BC1\\u4EF6\\u53F7";\n        this.$message.error(message);\n      },\n      showErrorMessagePassword: function showErrorMessagePassword() {\n        var message = "Enter your Password";\n        this.$message.error(message);\n      },\n      showErrorMessageMobile: function showErrorMessageMobile() {\n        var message = "Enter your Mobile";\n        this.$message.error(message);\n      },\n      showErrorMessageDynamicCode: function showErrorMessageDynamicCode() {\n        var message = "Enter the Dynamic Code";\n        this.$message.error(message);\n      },\n      showSuccessMessageSendCode: function showSuccessMessageSendCode() {\n        var message = "Send success!";\n        this.$message.info(message);\n      },\n      showFailureMessageSendCode: function showFailureMessageSendCode() {\n        var message = "Send fail!";\n        this.$message.error(message);\n      },\n      handleClose: function handleClose() {\n        this.dialogVisible = false;\n      },\n\n      openOrCloseQrCode: function openOrCloseQrCode() {\n        var self = this;\n        self.isQrcodeAlert = false;\n        self.qrcodeAlertMessage = "";\n        self.stateKey = "";\n        this.isQrcode = !this.isQrcode;\n\n        if (this.isQrcode) {\n          this.qrInit();\n          /* this.qrcodeImgUrl = "'<!DOCTYPE html><html >\n<head>\n    <title>西北工业大学 | 统一身份认证 | Login</title>\n    <meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="renderer" content="webkit" /><meta http-equiv="X-UA-Compatible" content="IE=edge"/><link rel="icon" href="/cas/themes/nwpu/favicon.ico" type="image/x-icon"/><script type="text/javascript" >\n    // var hmSiteId = "d605d8df6bf5ca8a54fe078683196518";\n    var hmSiteId = "59fe109529398d18adf6affbe7a530f6";\n    if (hmSiteId) {\n      var _hmt = _hmt || [];\n      (function() {\n        var hm = document.createElement("script");\n        hm.src = "https://hm.baidu.com/hm.js?"+hmSiteId;\n        var s = document.getElementsByTagName("script")[0]; \n        s.parentNode.insertBefore(hm, s);\n      })();\n    }\n    </script>\n\n    <script type="text/javascript" src="/cas/webjars/jquery/3.6.0/jquery.min.js"></script>\n    \n\n  <script src="/cas/deps/js/babel.min.js"></script>\n  <script src="/cas/deps/js/babel.polyfill.js"></script>\n  <script src="/cas/deps/js/vue/dist/vue.min.js"></script>\n\n  <script src="/cas/deps/js/sw-ui/lib/index.js"></script>\n\n    <link rel="stylesheet" type="text/css" href="/cas/deps/js/sw-ui/lib/theme-chalk/index.css"><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><!-- <link href="../../static/css/cas.css" rel="stylesheet" th:remove="tag" /> --><script src=\'/cas/deps/js/jsencrypt/3.0.0-rc.1/jsencrypt.min.js\' type="text/javascript"></script>\n\n<script type="text/javascript">\n  var encryptEnabled = false;\n\n  var encrypt = new JSEncrypt();\n  \n  var url = "\\/cas\\/jwt\\/publicKey";\n  $.get(url, function(publicKey){\n    // console.log(publicKey);\n    encrypt.setPublicKey(publicKey);\n  });\n  </script>\n\n<link rel="stylesheet" type="text/css" href="/cas/themes/nwpu/css/style-nwpu.css"><link rel="stylesheet" type="text/css" href="/cas/themes/nwpu/css/style-nwpu3.css"><link rel="stylesheet" type="text/css" href="/cas/themes/nwpu/css/mfa.css"></head>\n\n<body>\n\n\n<main role="main">\n    <div id="content">\n\n<div id="vue_main" style="display: none;">\n\n  <div style="display:none;">\n    <el-button id="showErrorMessageUsername" :plain="true" @click="showErrorMessageUsername">打开消息提示</el-button>\n    <el-button id="showErrorMessagePassword" :plain="true" @click="showErrorMessagePassword">打开消息提示</el-button>\n    <el-button id="showErrorMessageMobile" :plain="true" @click="showErrorMessageMobile">打开消息提示</el-button>\n    <el-button id="showErrorMessageDynamicCode" :plain="true" @click="showErrorMessageDynamicCode">打开消息提示</el-button>\n\n    <el-button id="showSuccessMessageSendCode" :plain="true" @click="showSuccessMessageSendCode">打开消息提示</el-button>\n    <el-button id="showFailureMessageSendCode" :plain="true" @click="showFailureMessageSendCode">打开消息提示</el-button>\n\n    <el-button id="showGuardDialog" :plain="true" @click="showGuardDialog">打开消息提示</el-button>\n  </div>\n  \n  <div style="min-height: 850px; background: #fff;" :style="\'height: \'+(clientHeight<=850?850:clientHeight)+\'px;\'">\n  \n  <sw-dialog\n    title="公告"\n    width="500px"\n    :visible.sync="dialogVisible"\n    :before-close="handleClose"></sw-dialog>\n  \n  <div style="width: 100%;position:absolute;top:0;height:480px;" :style="\'background-image: url(\'+bg+\'); height: \'+( 480 + (clientHeight<=850?0:((clientHeight-850)/2)) )+\'px;\'" ></div>\n  <div class="sw-login sw-cloud-platform-nwpu-login" style="min-height: 850px; overflow: hidden; height:850px;" :style="\'top:\'+(clientHeight<=850?0:((clientHeight-850)/2))+\'px;\'">\n    \n    <el-row  style="width: 100%;position: relative;max-width:1920px;margin: 0 auto;">\n      \n      <el-row style="margin:50px 50px 32px;color:#2367B1;font-size: 33px;">\n        <img height="50px" :src="logo" style="position: relative;top:7px"></el-row>      \n\n      <el-row :style="\'height:\'+(480)+\'px\'">\n\n        <!-- /*\n        <el-carousel ref="carousel" :interval="5000" arrow="never" indicator-position="none" class="carousel" :height="(480)+\'px\'">\n          <el-carousel-item v-for="item in backgrounds">\n          </el-carousel-item>\n        </el-carousel>\n        */ --><div :style="\'background:url(\'+backgrounds[0]+\') no-repeat;background-size:cover;background-position:left;height:\'+(480)+\'px\'" style="width: 100%;position: relative"></div>\n\n        <div class="car-cover" style="top:0; transform: none;"></div>\n\n        <div style="width: 300px;height: 370px;z-index:5; position: absolute; top:50px; right:0;">\n          <div class="sw-login-main" style="top:0; transform: none;"> <!-- /* :style="{transform:\'translate(-\'+ offset/4 +\'px, -50%) scale(\'+ (offset+1600)/1600 +\')\'}" */ --><div class="sw-login-main-content">\n             <div style="position:relative">\n             \n            <el-menu @select="changeMenu" :default-active="currentMenu"  class="sw-login-menu" background-color="#ffffff00" text-color="#666" active-text-color="#3394E1" mode="horizontal">\n              <el-menu-item index="3" style="margin: 0 20px;">QRCode</el-menu-item>\n              <el-menu-item index="2" style="margin: 0 20px;">Dynamic Code</el-menu-item>\n              <el-menu-item index="1" style="margin: 0 0 0 20px;">User-Password</el-menu-item>\n            </el-menu>\n             \n             </div>\n\n              <div class="card">\n\n            <div v-show="currentMenu==1">\n\n              <el-form style="margin: 20px" method="post" id="fm1" action="login">\n              \n                <div class="el-form-item el-form-item--small" style="margin-bottom: 15px">\n                  <div class="el-form-item__content">\n                    <div class="sw-input el-input el-input--default el-input--prefix sw-input--circular">\n                      \n                            <div>\n\n                            <div>\n                                <input class="el-input__inner"\n                                       placeholder="请输入用户名/手机/邮箱/证件号" title="请输入用户名/手机/邮箱/证件号" id="username"\n                                       name="username"\n                                       size="25"\n                                       tabindex="1"\n                                       type="text"\n                                       value="2021264411"\n                                       accesskey="u"\n                                       autocomplete="off"/></div>\n                            </div>\n                      \n                      <span class="el-input__prefix"><i class="su-input-icon black su-input-icon-prefix el-input__icon su-icon-people"></i></span>\n                    </div>\n                  </div>\n                </div>\n\n                <div class="el-form-item el-form-item--small" style="margin-bottom: 15px">\n                  <div class="el-form-item__content">\n                    <div class="sw-input el-input el-input--defualt el-input--prefix sw-input--circular">\n\n                            <div>\n                                <input class="el-input__inner"\n                                       placeholder="Enter your Password" title="Enter your Password" type="password"\n                                       id="password"\n                                       size="25"\n                                       tabindex="2"\n                                       accesskey="p"\n                                       autocomplete="off" name="password" value=""/></div>\n\n                      <span class="el-input__prefix"><i class="su-input-icon black su-input-icon-prefix el-input__icon su-icon-lock"></i></span>\n                      <span class="el-input__suffix"><span class="el-input__suffix-inner" style="display: inline-block;"><i class="el-input__icon su-icon-hide el-input__clear" style="line-height: 32px;" onclick="javascript: togglePassword(this);"></i></span></span>\n                    </div>\n                  </div>\n                </div>\n\n                <el-form-item style="margin-bottom: 10px">\n                  <el-checkbox name="rememberMe" id="rememberMe" label="true">Remember Me</el-checkbox>\n                  <a href="/cas/personal/forgotYourPassword" target="_blank" style="font-size: 14px;float: right; color: #2367B1; text-decoration-line: none;">Forgot your password?</a>\n                  \n                </el-form-item>\n                \n                <el-form-item style="margin-bottom: 10px">\n                        <input type="hidden" name="currentMenu" value="1"/><input type="hidden" name="mfaState" value=""/><input type="hidden" name="execution" value="332c6a46-6dd4-4899-af20-79d5aecbef92_ZXlKaGJHY2lPaUpJVXpVeE1pSjkuOFlweno5WWwwWDk1ZjU5T24xNG45R3p3M0swejdVZVg3ajFtRWVLekZxUm1vVmYyYmk1eE54c0NXM0tWT291NHJGZ1k3N1VjQ1FwdDQvbktXeEFjeFAyNm5kV01lemorWXBUalhGMFdtZlg4Q291b0VpbnArd3ArT3lyeHVaMnpXZDFmS1RVZGdvR2J6Q2dQWjdKV0NFOE9yY1VHakRlNnUzWng4dUZCR3pRQnJ6dlFVRFlqR3NLY0VDUlZYZ1JrM2JKbTcvdDJDN2hQeHJ3bnlSSWlBZ3lSMHRDSUdUOXNkVnNUNVhuTUd0cTVlOGQzc0lseXVCV2wxODVjQXA3WGMyTU5jUGluaG5qc2NMU3QxbGQ4d3NIV0VFbU9oOFAxYkJsdVBXVkc5c1lmeU1MQkhUN3YzYmpjSW9pbVd2aWdGWnhWR2I0QzB0T0p5aC9kZndYTGdJanhIZVgvY1F2M3ExMEtpL2JvL3ovNlRaMkkzRXVOMjVLWk1GTjhqOHo4eG80eEFxMHl0ZWg4ZU5UTXJUQUdHQTZhUTU4Mzd6UEthVDFxN2JRcW9ZRldYUm1UNVY5TlA0WllCNVNQbDgzVDN2TU9aSHBzR0dNMzQzcllFNGl2em9mQmo3TjFhd2c1NlZjRm5QVWNacVZHOTYrVVdSN3NWTFpGa0hZTVl6VHNJU0YxanY2S0U1dXQvYjhwOHUvc0RFbmNvS3Y4bVlFSnYzazUvaGNVWmw3VFFvTHJWTnFjZFVnNjIyenNCMUZlVHJnMlBBclQ5QkdxejFKTTZjMkJGelVjd3JuMUFkTjI4OWNFTGI1aEU5Nkl6QW45MjZkNjUyL0xCcXF2TmdIdXRJOXRCSjB2clEwME4wbmg4UWpHbmVIT1lnMHRRQmlaaWRIMVNqeWM5eDE4VXhqZXdOazFTVzVHV0FIUWpqNXI0dlFnZEpzZmdVb0xBVVhLQXVBZVlnWEhDMWxHNjNRMDNOZUxFYXF6ZllFVHN2dFRZcWZZbHdaMVJpSmhUbDNXMFhqci9DNGk5Zk1TQklIdCtxcmIySzRRQnBKS3l1NWJBWkFDQ1JIdng1c2E5RWxVSFo2ZlNqS3R6ZVFCejYzYmJlZUNMM3FiLzJhcHlwUy9CbWtIZm94d3Q1QkVEay9scHdIc1JWNmF4MEZFNTRNb3FmREREMUp1M1Z3bFNraEYyYWgzVTY2UG9UakVkRVk1Y1hTdE55Nm1QY2FxbjZiTERTakdhY0EyMTJsaGc4elI4M2pWL1hDL05uQ3p6UVZOaWl1b3dlanFkZCt0SS9zaUsyenkySE9NTHA4Wi93aUVTeG81eUxxY1M3MWZQR2hSNW5CdXdwQk5kTWlYalVnWEVKQXFyVFgrSXpybDdkSFdHZkZyWENSVldWWmc4Mjl6STZadlBCeUphWHc0TTlncUlwQ3JHOGpwYzRtT2Z4cTR3eDNnZ1diUVhxdW5lSk5IZnFpN2NGcFA5ZmkzRWFSNmdBODBoMkRkSUJwaTNTTWtNd0lqL3Erc1RDQnFnT1p3V2dma3FMNGc2QzBZaTJFVFA4SDRLR2FHS0p3OGg3Rk95SHBKMGVzWUVWb0s1YVVtREN3U2R1QzEzcEhzVE1pQmxjMU9paFBDU1FjQnZIWURLZFlheFR0dkZUcUZobUpJSHFldGs5YnBPYjE3VkVoQ0JudGt4YWVmS2xQYVR0YUhqdDVrbnFxdUR4TlQ3cU4zaFFOMzdKMkhtamlQSW1MT2FMWjUyZnF1amxXL3RUVEgrRzRyUnU4VWlMNXdMRGJqSVVkUkNDTlZGMGxQOHpmRnhCRWFRVi9DTlY4d2Q2dU9GdWFLSm5LZTBuS1NuR2ZETEVCaFlRdVYvUGtWQXljYXZ2RnNLb25uUHN4U1ViMlFyUkFqQTVVZGlIdytIeU94SU5GM3ROcTYxcGY2ajgxaVVvczQzL0dZRkVKeE00U3BSNjYwZ2hBYzJybVYvN3BJU0w4Z3pzZ1k0MnV0VGZGWThMMy93cGltY1NEejZiK3NRbEpGZE1RQTBqYmNTeDR2L2k4NTFMR3lSbzZvY2xUMzVZa25lcVhqN2hJcWE0cWc4Q2xRL3c5eTlocDgrVFNmaXcydUxIT3VjQ0JiQXJHMHBOK3RDczZvVXA5MGNuOUNGNTdrM05NcVhwV2gxc0tlTVd4ZE1qQ0NFVnd5NEw0TkRFbTR2ZkZibElEQjNSTjE4YVFBTHhnbEpKM2xNSGVkbm5mWEJIbVFiQ1p2T1RzeFR3WVoxYUFOcGxDMGY3LzhaZk1rSEhmNS9JQmN1RDZjWENEWUN0Nk1QZkFtVEg1N1NyWUR4cVFwRnFUQUdmS1RxaXowZEd2Nnh6V2xNUEZlQkQ0WHhMdHArQkRPTEpaUStzTzNaQ3IxRXNuTzVXQWtTbFFyZHZjRWF6YmpIaU5EVDlOOGNwcWN1eERwbnZKSEErUkkwNHJFRjgrYXNmVkpENDFiRXNQK05TdjU0OCtMTmlqUWoyc0I5cjJHRVh5cTBmSEtVU1puWUQ2dDlMbW5UTjhUNlBzRm5mMllPWkpQL0xFNmppUHErbmZUcjVSRDlCbnBGUW9adXVwK3hCWEN2YVNIT3BYZWkrRU9BcVEzM3YyUHFMTzNCR1drTzRMZC9rcjFsZU1xajNuR1RjTlpZQWNzUFJlY2ZBdklWR1FTL3FRRlkzR3RvL0ZKWS9WUzNwR2ZkbUQ1Z1JVTGI0QjdPb1V1eDVneXRxcVh2VHJMTVVlMUJpY0lpOXdibkFuWm84UWdXd3RaOW1BOTFVS0loczdHODd3dU5kWTJzR3Brd2FUMHo4SWZRUzQ2cEd2aXVPSU1ja1FHRm5ieFV4czU0VU9oa2hlY3BRcjNNMmxodXdQTHNxOVNlZ2tydTFISkhnbkY4ZTJnaDRrOEpqanVZNUo5YThVa1p1RThkckxWcXNJUWdERWRydThYYVZSd2RHREdxU3ZZNXNkQk9KWWZObTBoMzM2amwvVldaK1orcDBoc1YyV0hQTm1aMVBuK3RXdTJ6TkVzbEdDWGtKSlFSSEF2NUJkVHlHTDlOWllab2hxVmErOHh2UTcwaWtBRkVKeEpXdTgwUVQxeE9oWXRjbDBQTWYvOVZwME5peW4rbi95RjhEdWtpQWk1Nmk4elhkUUdvV1pYNkM3Vi9sNUdTa2loMEY3MzdWMDIxMFVreVdVYTNpdlVBaklpcUVTTjBCQzhUVlNHeEttT3p4MmJOZ1NoUXhIQ2xoUWNKN2V2ckx3M1V2UVpIWjBUNUVwdHJ2RG1reHVkWGw4eDVFMmkydU1rYytQMmozZ1BJMGcrYjNESGJNY0xyZldoSk9nV3RXdE9nZ3hBbFA3bmUyWnc0QlJHYlRrbVp6OVdyckFWNVhKUGpiVXo1VkVrU0JSUWRKUzhPeHU2TElMaTVsMjJjNXFvLzNRR3d3bFNzd1p4NjFKUlJHYU1sa3pvMGh0TDZabDBGQ3VxaVVqd3JnTE9pTVcwZElVSy95eTZhSEVVY1B1eTBxcllIaldpUHg2c1NjbDlmR3lYMWdlK0h3NDVmdWxGMVlyWmFzdzgvazluaGdYNlZlYWhWR2xJaElST1A1NEJnR2hwZnNGek1sREVmM1BkNHhrbnNWTlJuMllDU2EwT25MMXJMTjYxbkhCQTNXWDFhYWViSU5zOWc5Z1JiUDdQOGcvNGxMYTRlRVo4NE5USERxT0RpSGVtUkFCZFBGb3NxMTFYNjBjNWIxOVk0aU5obk93b1hlc1ZaYVJrSkdwZnovRm9SRE9qelNPQ3F3TGQzU0lVN0k3b1FNV2NvNFNpem9tUzJxTHQveFNKUHcwaUlBTmVrWHZiSFE2MjVoaFVjVnFBTFFLNGhITy9sUWsvNGo1amVIaHQwOEYvLzh1SlQyYXZOZUZkTnR0UmdIanlpRHZTamhuMkwxZXgxcWtFamNTcENzYTg3KzdsSUxZV1JjbFpDcTRzY2xaS05hOWdXaEpFeVRNQjdVNVBPc2o4WDR4MHliSkNaMjF2ZWdnODFKbEZMSER6STg5Zzl3ZG1mbXJzeGMwdG9QUWEvL09XVHNuV0hLYWgwTmRVbnBVU2lkTUw2TDEzR205dHJEWUp1bWwwM1JkcnpVb2xvMEN5Y1BIRUViKy9QaDFGWDhESWpUS2M5V0RzOVFqV2FpcEd1OUtMVGhlVUlqdC96eWIzWWJlenNlK0djSGFvQmJvdGJLbGF1NzhTYStQa2laY0ttek1JQmdBUks1VVZlaFFMdXAzQW1FZ0dPUGxHSFRHbjhqcy9naStxVEdzRDQzNmpVcmhnZE1lb2lmenovZ2cra3NjRDhuVUVqdkc2d2dCOWtrL1dPTWdzNVJyKzdZWjVHWE9kVmU1cmNJMEEwckExZmJzWkJrS0pFWG15bk9zQytjUEpJQlFueTdnZ0UyTjdEc25JVjhSMWlMeFdWNjBMejhYRHJsOUM5MHRWTUdDWm9vY0tJV2hud0REL255TDd3NmNObWNQSGVHWXFvZk5nV3JhamxVeE11L01hMmpucFhoeUt5UDhXVnVCL09vRUdLdFhPcGp0RW5tMjFPNUVwaU9UNzNITlJ1bnJYWFBBZTNoZkFEUGRoS2dwZWpGbU1ZL2Jjb05MVmpydjRVNEg3RmdteEoxclppU3paZ3c5Y1NhcEgvaEhDRHdTSGpzSzFwc21IZzcwR0c4bjJaajdwc1R2S05GWEc0NnY3NjlZUmhsekI3MzFXQTJicFdOcWpIRkNacEVrKzJnME4vMm1VbXNoTzM5RVZ0cC9CRHpFVWlPU0szVis0R2FvMDVpK0JZbWxDVXR6czc1M09Ka2c1M0dJZXlHeFgzMU9yYVZzcURJWnMzcllsZnAxSmJXQUFldWl5K0pYenNCTVFpWGhSRS9HMEVZMGJ3Yk9TZjhPUkFYTUNyVjZyMmtMUXBVZFphUi90UDhyeTlHVGd4dloxdUR3c3JOVDIrQnFnMWVsMk52UTkrR3Q4a1lhUmNyZkdQaXRqVGZqUTYwcG9CTzhYd2VxWFFGL1dHK2NpSkIzVVVXWlNNOXV1ZkdlZkpZZXFlc1VrNVhYVlk5czV6QjZuNEltWW1TM0ZITlNXZGxSNU1VdktOS3FqaEFKbUF3MnlWdXRUcmw4UHArQVJRSmxhT2pqUFQ2SmZwbVAwdVFocFM1a1F3bFhPb1dnbS9JTkhiL1loREdIY3VUN0Y0MnVLalI3cHJVK1R6cFp6eEtIUEo2Rkg1YkUxV09pSmpYS2dDRGszbi9teEhSZW1wQUE4ZXVtcjBmZUJxYmZsMVNHdlo3Tmg2bjh2ZUlhTGhjU292SklBTEJ3bktJVnN4UDVDNk1uZEJSM1VqM05KVGUwUGxVTGFReGdkS3dpS1VTU2wrZDNJNmRVb216U0JDUXVmblY5WW42YmpXdzlacHdrUXY2djFtRkJlQ2U4bnNxT3lVTk1EaU1SQWVPbU1Nc1VQR09QMVhCeHVnQWdXSGVVa3h2R1RJR2NuV3RhWFFxbFgxRHJpd2RPOFRZaFVDTGJDajZtZnpQWXRaamdRc0Z1TEJYT1pXckFubWNoMC9GMXd3eURXSEsxQ1VHZWlMVVQ3Y3hqOWhFRmRBZTV3NVBqcnp2M3hZZXJ1aVE1aU93dWZucTcvb0NmWWFqU0tOeUMvbmFTb2RVYjFyMEhHZC9wQlNOV0JKTXB2MHJJNFAwSnpwMVZnMXpFQnZUUHlQUEVhK01nYzF1UjlkazVjVkVPdmVwY1c5YkN3ajc1NTJjbm1kbXp2empERitUZUJtRFFYRWZ1eUxGdmVMdFNPRDlZVUxTQVBGMkJTaTFwSkkxbjdid29BQno1YTMrTlh5UnZpTlh2Y1VTNHNHSk43WFF3MUl1YUUxdW0zblNLSzZPT1Z5akxHdDFuQW1FUEljQ1NvSlJzYStTRUUrTHFiL1M2aVNXclpKVzBzVkU5Wk9oZTlhVCtuSkxLT1FFSUhWNWg1ZmlxZ2hPb05ROHdGTm9VZllYK09Xc1ZXR0RSTlpqYVdzV0g0SlJMZDBVRUhzVjNkakNtdUhXb3BUeTBpbjdiUW5naE5xTC9rbUI2T1k0eEZYdTl2dXJRUDJIUEJpZ1oyV2hmTlFKSEZCaWdlakw5NzNtaUtDSFBwS1EvRXNSSXhRbFVVSDVIZnZOTUc0cXJINXZFZ3Iybk1KNTFhUC90VG5lREtKaGduVjBxWnpudXlCejV3dlV6aHlNM2x1SDliZExMaCsyekRkTUgwVVlZd1p3S3h4TTYvWEs4WXN6cmhJVjd2dlZ1ZGhHd1BVYWs4bEgxeFFrZTdFK01EKzY1SlNhdFBUSTNEUmdKOUVUM0NnbXBJOTJ1NHNPRm5yN1pQWU5mQVVFVTdmUXVwQ2p0cWZtWEgwSy9rUmszUTlXZUIySmFRaXZnWDRhUDlZYXFjQTdYNFZCM1EvWDY3TjRzdnhWWEszTG05VEROV0t4d1g5dzl3L3hNR3RWbWFGQkN0N1YyNlUrUHVFQldKQ0VCQ2Rla2pBNVUxWVBKdEdkdFdxdWU0L0s2RVo2NlV4cUVkbmJZUWpDTW4yQlpCV2NubWF6TGhFRUdsYjZUVXNKRzZ4OWs3bkJFeFltRDFaS3hwNndLczZxUzVnU0tHS1JrTGMyOTF6NnF4bFhVT1ltOHplSjdEeEF4SmhsOERxOXRBbWZXYWVNND0uUlVqcFgtNDA3cmFqdmlSeWJPbmlnVU01ME9JZXA5MHFma2I5QzVUTFh1VkNqNnFBTWhRUS1BWFNhbGxKZnVQd2lpbjJmeFI1b3Q2clpxNVF5cGhGU1E="/><input type="hidden" name="_eventId" value="submit"/><input type="hidden" name="geolocation"/><input class="el-button el-button--primary el-button--medium is-round"\n                               name="button"\n                               accesskey="l"\n                               tabindex="6"\n                               type="button"\n                               value="LOGIN"\n                               \n                               style="width: 100%"\n                        /><input \n                               name="submit"\n                               type="submit"\n                               value="Login1"\n                               style="display:none; width: 100%"\n                        /></el-form-item>\n\n                <el-form-item style="margin-bottom: 10px">\n                        <div id="loginError1" style="display: none;">\n  <el-alert title="Invalid credentials." type="error"\n    :closable="false">\n  </el-alert>\n                        </div>\n                </el-form-item>\n\n  <script type="text/javascript">\n  $( document ).ready(function() {\n    var currentMenu = localStorage.currentMenu;\n    if (currentMenu == "1") {\n      var container = $("#loginError1");  container.show();\n      var originalUsername = "2021264411";\n      if (originalUsername == null) {\n        originalUsername = "2021264411";\n      }\n      var hasErrors = true;\n      var errors = ["Invalid credentials."];\n      showError(container, originalUsername, hasErrors, errors);\n    }\n  });\n  </script>\n\n              </el-form>\n\n            </div>\n\n            </div>\n\n              <div class="card">\n\n            <div v-show="currentMenu==2">\n\n              <el-form style="margin: 20px" method="post" id="fm2" action="login">\n\n                <div class="el-form-item el-form-item--small" style="margin-bottom: 15px">\n                  <div class="el-form-item__content">\n                    <div class="sw-input el-input el-input--default el-input--prefix sw-input--circular">\n\n                            <div>\n                                <input class="el-input__inner"\n                                       placeholder="Enter your Mobile" title="Enter your Mobile" id="username"\n                                       name="username"\n                                       size="25"\n                                       tabindex="1"\n                                       type="text"\n                                       value="2021264411"\n                                       accesskey="m"\n                                       autocomplete="off"/></div>\n                            <span class="el-input__prefix"><i class="su-input-icon black su-input-icon-prefix el-input__icon su-icon-people"></i></span>\n                    </div>\n                  </div>\n                </div>\n\n                <div class="el-form-item el-form-item--small" style="margin-bottom: 15px">\n                  <div class="el-form-item__content">\n                    <div class="sw-input su-input-text-button el-input el-input--defualt el-input-group el-input-group--append el-input--prefix sw-input--circular">\n\n                                <input class="el-input__inner"\n                                       placeholder="Enter the Dynamic Code" title="Enter the Dynamic Code" type="password"\n                                       id="password"\n                                       size="25"\n                                       tabindex="2"\n                                       accesskey="d"\n                                       autocomplete="off" name="password" value=""/><span class="el-input__prefix"><i class="su-input-icon black su-input-icon-prefix el-input__icon su-icon-dyncode"></i></span>\n                      <span class="el-input__suffix" style="right: 97px;"><span class="el-input__suffix-inner" style="display: inline-block;"><i class="el-input__icon su-icon-hide el-input__clear" style="line-height: 32px;" onclick="javascript: togglePassword(this);"></i></span></span>\n                      <div class="el-input-group__append">\n                        <button type="button" class="el-button el-button--default el-button--small" onclick="javascript:sendToken(this);"><span>Send</span></button>\n                      </div>\n\n                    </div>\n                  </div>\n                </div>\n\n                <el-form-item style="margin-bottom: 10px">\n                        <input type="hidden" name="currentMenu" value="2"/><input type="hidden" name="execution" value="332c6a46-6dd4-4899-af20-79d5aecbef92_ZXlKaGJHY2lPaUpJVXpVeE1pSjkuOFlweno5WWwwWDk1ZjU5T24xNG45R3p3M0swejdVZVg3ajFtRWVLekZxUm1vVmYyYmk1eE54c0NXM0tWT291NHJGZ1k3N1VjQ1FwdDQvbktXeEFjeFAyNm5kV01lemorWXBUalhGMFdtZlg4Q291b0VpbnArd3ArT3lyeHVaMnpXZDFmS1RVZGdvR2J6Q2dQWjdKV0NFOE9yY1VHakRlNnUzWng4dUZCR3pRQnJ6dlFVRFlqR3NLY0VDUlZYZ1JrM2JKbTcvdDJDN2hQeHJ3bnlSSWlBZ3lSMHRDSUdUOXNkVnNUNVhuTUd0cTVlOGQzc0lseXVCV2wxODVjQXA3WGMyTU5jUGluaG5qc2NMU3QxbGQ4d3NIV0VFbU9oOFAxYkJsdVBXVkc5c1lmeU1MQkhUN3YzYmpjSW9pbVd2aWdGWnhWR2I0QzB0T0p5aC9kZndYTGdJanhIZVgvY1F2M3ExMEtpL2JvL3ovNlRaMkkzRXVOMjVLWk1GTjhqOHo4eG80eEFxMHl0ZWg4ZU5UTXJUQUdHQTZhUTU4Mzd6UEthVDFxN2JRcW9ZRldYUm1UNVY5TlA0WllCNVNQbDgzVDN2TU9aSHBzR0dNMzQzcllFNGl2em9mQmo3TjFhd2c1NlZjRm5QVWNacVZHOTYrVVdSN3NWTFpGa0hZTVl6VHNJU0YxanY2S0U1dXQvYjhwOHUvc0RFbmNvS3Y4bVlFSnYzazUvaGNVWmw3VFFvTHJWTnFjZFVnNjIyenNCMUZlVHJnMlBBclQ5QkdxejFKTTZjMkJGelVjd3JuMUFkTjI4OWNFTGI1aEU5Nkl6QW45MjZkNjUyL0xCcXF2TmdIdXRJOXRCSjB2clEwME4wbmg4UWpHbmVIT1lnMHRRQmlaaWRIMVNqeWM5eDE4VXhqZXdOazFTVzVHV0FIUWpqNXI0dlFnZEpzZmdVb0xBVVhLQXVBZVlnWEhDMWxHNjNRMDNOZUxFYXF6ZllFVHN2dFRZcWZZbHdaMVJpSmhUbDNXMFhqci9DNGk5Zk1TQklIdCtxcmIySzRRQnBKS3l1NWJBWkFDQ1JIdng1c2E5RWxVSFo2ZlNqS3R6ZVFCejYzYmJlZUNMM3FiLzJhcHlwUy9CbWtIZm94d3Q1QkVEay9scHdIc1JWNmF4MEZFNTRNb3FmREREMUp1M1Z3bFNraEYyYWgzVTY2UG9UakVkRVk1Y1hTdE55Nm1QY2FxbjZiTERTakdhY0EyMTJsaGc4elI4M2pWL1hDL05uQ3p6UVZOaWl1b3dlanFkZCt0SS9zaUsyenkySE9NTHA4Wi93aUVTeG81eUxxY1M3MWZQR2hSNW5CdXdwQk5kTWlYalVnWEVKQXFyVFgrSXpybDdkSFdHZkZyWENSVldWWmc4Mjl6STZadlBCeUphWHc0TTlncUlwQ3JHOGpwYzRtT2Z4cTR3eDNnZ1diUVhxdW5lSk5IZnFpN2NGcFA5ZmkzRWFSNmdBODBoMkRkSUJwaTNTTWtNd0lqL3Erc1RDQnFnT1p3V2dma3FMNGc2QzBZaTJFVFA4SDRLR2FHS0p3OGg3Rk95SHBKMGVzWUVWb0s1YVVtREN3U2R1QzEzcEhzVE1pQmxjMU9paFBDU1FjQnZIWURLZFlheFR0dkZUcUZobUpJSHFldGs5YnBPYjE3VkVoQ0JudGt4YWVmS2xQYVR0YUhqdDVrbnFxdUR4TlQ3cU4zaFFOMzdKMkhtamlQSW1MT2FMWjUyZnF1amxXL3RUVEgrRzRyUnU4VWlMNXdMRGJqSVVkUkNDTlZGMGxQOHpmRnhCRWFRVi9DTlY4d2Q2dU9GdWFLSm5LZTBuS1NuR2ZETEVCaFlRdVYvUGtWQXljYXZ2RnNLb25uUHN4U1ViMlFyUkFqQTVVZGlIdytIeU94SU5GM3ROcTYxcGY2ajgxaVVvczQzL0dZRkVKeE00U3BSNjYwZ2hBYzJybVYvN3BJU0w4Z3pzZ1k0MnV0VGZGWThMMy93cGltY1NEejZiK3NRbEpGZE1RQTBqYmNTeDR2L2k4NTFMR3lSbzZvY2xUMzVZa25lcVhqN2hJcWE0cWc4Q2xRL3c5eTlocDgrVFNmaXcydUxIT3VjQ0JiQXJHMHBOK3RDczZvVXA5MGNuOUNGNTdrM05NcVhwV2gxc0tlTVd4ZE1qQ0NFVnd5NEw0TkRFbTR2ZkZibElEQjNSTjE4YVFBTHhnbEpKM2xNSGVkbm5mWEJIbVFiQ1p2T1RzeFR3WVoxYUFOcGxDMGY3LzhaZk1rSEhmNS9JQmN1RDZjWENEWUN0Nk1QZkFtVEg1N1NyWUR4cVFwRnFUQUdmS1RxaXowZEd2Nnh6V2xNUEZlQkQ0WHhMdHArQkRPTEpaUStzTzNaQ3IxRXNuTzVXQWtTbFFyZHZjRWF6YmpIaU5EVDlOOGNwcWN1eERwbnZKSEErUkkwNHJFRjgrYXNmVkpENDFiRXNQK05TdjU0OCtMTmlqUWoyc0I5cjJHRVh5cTBmSEtVU1puWUQ2dDlMbW5UTjhUNlBzRm5mMllPWkpQL0xFNmppUHErbmZUcjVSRDlCbnBGUW9adXVwK3hCWEN2YVNIT3BYZWkrRU9BcVEzM3YyUHFMTzNCR1drTzRMZC9rcjFsZU1xajNuR1RjTlpZQWNzUFJlY2ZBdklWR1FTL3FRRlkzR3RvL0ZKWS9WUzNwR2ZkbUQ1Z1JVTGI0QjdPb1V1eDVneXRxcVh2VHJMTVVlMUJpY0lpOXdibkFuWm84UWdXd3RaOW1BOTFVS0loczdHODd3dU5kWTJzR3Brd2FUMHo4SWZRUzQ2cEd2aXVPSU1ja1FHRm5ieFV4czU0VU9oa2hlY3BRcjNNMmxodXdQTHNxOVNlZ2tydTFISkhnbkY4ZTJnaDRrOEpqanVZNUo5YThVa1p1RThkckxWcXNJUWdERWRydThYYVZSd2RHREdxU3ZZNXNkQk9KWWZObTBoMzM2amwvVldaK1orcDBoc1YyV0hQTm1aMVBuK3RXdTJ6TkVzbEdDWGtKSlFSSEF2NUJkVHlHTDlOWllab2hxVmErOHh2UTcwaWtBRkVKeEpXdTgwUVQxeE9oWXRjbDBQTWYvOVZwME5peW4rbi95RjhEdWtpQWk1Nmk4elhkUUdvV1pYNkM3Vi9sNUdTa2loMEY3MzdWMDIxMFVreVdVYTNpdlVBaklpcUVTTjBCQzhUVlNHeEttT3p4MmJOZ1NoUXhIQ2xoUWNKN2V2ckx3M1V2UVpIWjBUNUVwdHJ2RG1reHVkWGw4eDVFMmkydU1rYytQMmozZ1BJMGcrYjNESGJNY0xyZldoSk9nV3RXdE9nZ3hBbFA3bmUyWnc0QlJHYlRrbVp6OVdyckFWNVhKUGpiVXo1VkVrU0JSUWRKUzhPeHU2TElMaTVsMjJjNXFvLzNRR3d3bFNzd1p4NjFKUlJHYU1sa3pvMGh0TDZabDBGQ3VxaVVqd3JnTE9pTVcwZElVSy95eTZhSEVVY1B1eTBxcllIaldpUHg2c1NjbDlmR3lYMWdlK0h3NDVmdWxGMVlyWmFzdzgvazluaGdYNlZlYWhWR2xJaElST1A1NEJnR2hwZnNGek1sREVmM1BkNHhrbnNWTlJuMllDU2EwT25MMXJMTjYxbkhCQTNXWDFhYWViSU5zOWc5Z1JiUDdQOGcvNGxMYTRlRVo4NE5USERxT0RpSGVtUkFCZFBGb3NxMTFYNjBjNWIxOVk0aU5obk93b1hlc1ZaYVJrSkdwZnovRm9SRE9qelNPQ3F3TGQzU0lVN0k3b1FNV2NvNFNpem9tUzJxTHQveFNKUHcwaUlBTmVrWHZiSFE2MjVoaFVjVnFBTFFLNGhITy9sUWsvNGo1amVIaHQwOEYvLzh1SlQyYXZOZUZkTnR0UmdIanlpRHZTamhuMkwxZXgxcWtFamNTcENzYTg3KzdsSUxZV1JjbFpDcTRzY2xaS05hOWdXaEpFeVRNQjdVNVBPc2o4WDR4MHliSkNaMjF2ZWdnODFKbEZMSER6STg5Zzl3ZG1mbXJzeGMwdG9QUWEvL09XVHNuV0hLYWgwTmRVbnBVU2lkTUw2TDEzR205dHJEWUp1bWwwM1JkcnpVb2xvMEN5Y1BIRUViKy9QaDFGWDhESWpUS2M5V0RzOVFqV2FpcEd1OUtMVGhlVUlqdC96eWIzWWJlenNlK0djSGFvQmJvdGJLbGF1NzhTYStQa2laY0ttek1JQmdBUks1VVZlaFFMdXAzQW1FZ0dPUGxHSFRHbjhqcy9naStxVEdzRDQzNmpVcmhnZE1lb2lmenovZ2cra3NjRDhuVUVqdkc2d2dCOWtrL1dPTWdzNVJyKzdZWjVHWE9kVmU1cmNJMEEwckExZmJzWkJrS0pFWG15bk9zQytjUEpJQlFueTdnZ0UyTjdEc25JVjhSMWlMeFdWNjBMejhYRHJsOUM5MHRWTUdDWm9vY0tJV2hud0REL255TDd3NmNObWNQSGVHWXFvZk5nV3JhamxVeE11L01hMmpucFhoeUt5UDhXVnVCL09vRUdLdFhPcGp0RW5tMjFPNUVwaU9UNzNITlJ1bnJYWFBBZTNoZkFEUGRoS2dwZWpGbU1ZL2Jjb05MVmpydjRVNEg3RmdteEoxclppU3paZ3c5Y1NhcEgvaEhDRHdTSGpzSzFwc21IZzcwR0c4bjJaajdwc1R2S05GWEc0NnY3NjlZUmhsekI3MzFXQTJicFdOcWpIRkNacEVrKzJnME4vMm1VbXNoTzM5RVZ0cC9CRHpFVWlPU0szVis0R2FvMDVpK0JZbWxDVXR6czc1M09Ka2c1M0dJZXlHeFgzMU9yYVZzcURJWnMzcllsZnAxSmJXQUFldWl5K0pYenNCTVFpWGhSRS9HMEVZMGJ3Yk9TZjhPUkFYTUNyVjZyMmtMUXBVZFphUi90UDhyeTlHVGd4dloxdUR3c3JOVDIrQnFnMWVsMk52UTkrR3Q4a1lhUmNyZkdQaXRqVGZqUTYwcG9CTzhYd2VxWFFGL1dHK2NpSkIzVVVXWlNNOXV1ZkdlZkpZZXFlc1VrNVhYVlk5czV6QjZuNEltWW1TM0ZITlNXZGxSNU1VdktOS3FqaEFKbUF3MnlWdXRUcmw4UHArQVJRSmxhT2pqUFQ2SmZwbVAwdVFocFM1a1F3bFhPb1dnbS9JTkhiL1loREdIY3VUN0Y0MnVLalI3cHJVK1R6cFp6eEtIUEo2Rkg1YkUxV09pSmpYS2dDRGszbi9teEhSZW1wQUE4ZXVtcjBmZUJxYmZsMVNHdlo3Tmg2bjh2ZUlhTGhjU292SklBTEJ3bktJVnN4UDVDNk1uZEJSM1VqM05KVGUwUGxVTGFReGdkS3dpS1VTU2wrZDNJNmRVb216U0JDUXVmblY5WW42YmpXdzlacHdrUXY2djFtRkJlQ2U4bnNxT3lVTk1EaU1SQWVPbU1Nc1VQR09QMVhCeHVnQWdXSGVVa3h2R1RJR2NuV3RhWFFxbFgxRHJpd2RPOFRZaFVDTGJDajZtZnpQWXRaamdRc0Z1TEJYT1pXckFubWNoMC9GMXd3eURXSEsxQ1VHZWlMVVQ3Y3hqOWhFRmRBZTV3NVBqcnp2M3hZZXJ1aVE1aU93dWZucTcvb0NmWWFqU0tOeUMvbmFTb2RVYjFyMEhHZC9wQlNOV0JKTXB2MHJJNFAwSnpwMVZnMXpFQnZUUHlQUEVhK01nYzF1UjlkazVjVkVPdmVwY1c5YkN3ajc1NTJjbm1kbXp2empERitUZUJtRFFYRWZ1eUxGdmVMdFNPRDlZVUxTQVBGMkJTaTFwSkkxbjdid29BQno1YTMrTlh5UnZpTlh2Y1VTNHNHSk43WFF3MUl1YUUxdW0zblNLSzZPT1Z5akxHdDFuQW1FUEljQ1NvSlJzYStTRUUrTHFiL1M2aVNXclpKVzBzVkU5Wk9oZTlhVCtuSkxLT1FFSUhWNWg1ZmlxZ2hPb05ROHdGTm9VZllYK09Xc1ZXR0RSTlpqYVdzV0g0SlJMZDBVRUhzVjNkakNtdUhXb3BUeTBpbjdiUW5naE5xTC9rbUI2T1k0eEZYdTl2dXJRUDJIUEJpZ1oyV2hmTlFKSEZCaWdlakw5NzNtaUtDSFBwS1EvRXNSSXhRbFVVSDVIZnZOTUc0cXJINXZFZ3Iybk1KNTFhUC90VG5lREtKaGduVjBxWnpudXlCejV3dlV6aHlNM2x1SDliZExMaCsyekRkTUgwVVlZd1p3S3h4TTYvWEs4WXN6cmhJVjd2dlZ1ZGhHd1BVYWs4bEgxeFFrZTdFK01EKzY1SlNhdFBUSTNEUmdKOUVUM0NnbXBJOTJ1NHNPRm5yN1pQWU5mQVVFVTdmUXVwQ2p0cWZtWEgwSy9rUmszUTlXZUIySmFRaXZnWDRhUDlZYXFjQTdYNFZCM1EvWDY3TjRzdnhWWEszTG05VEROV0t4d1g5dzl3L3hNR3RWbWFGQkN0N1YyNlUrUHVFQldKQ0VCQ2Rla2pBNVUxWVBKdEdkdFdxdWU0L0s2RVo2NlV4cUVkbmJZUWpDTW4yQlpCV2NubWF6TGhFRUdsYjZUVXNKRzZ4OWs3bkJFeFltRDFaS3hwNndLczZxUzVnU0tHS1JrTGMyOTF6NnF4bFhVT1ltOHplSjdEeEF4SmhsOERxOXRBbWZXYWVNND0uUlVqcFgtNDA3cmFqdmlSeWJPbmlnVU01ME9JZXA5MHFma2I5QzVUTFh1VkNqNnFBTWhRUS1BWFNhbGxKZnVQd2lpbjJmeFI1b3Q2clpxNVF5cGhGU1E="/><input type="hidden" name="_eventId" value="submitPasswordlessToken"/><input type="hidden" name="geolocation"/><input class="el-button el-button--primary el-button--small is-round"\n                               style="width: 100%;height: 40px;font-size: 16px;"\n                               name="submit"\n                               accesskey="l"\n                               tabindex="6"\n                               type="submit"\n                               value="LOGIN"\n                        /></el-form-item>\n\n                <el-form-item style="margin-bottom: 10px">\n                        <div id="loginError2" style="display: none;">\n  <el-alert title="Invalid credentials." type="error"\n    :closable="false">\n  </el-alert>\n                        </div>\n                </el-form-item>\n\n  <script type="text/javascript">\n  $( document ).ready(function() {\n    var currentMenu = localStorage.currentMenu;\n    if (currentMenu == "2") {\n      var container = $("#loginError2");  container.show();\n      var originalUsername = "2021264411";\n      if (originalUsername == null) {\n        originalUsername = "2021264411";\n      }\n      var hasErrors = true;\n      var errors = ["Invalid credentials."];\n      showError(container, originalUsername, hasErrors, errors);\n    }\n  });\n  </script>\n\n              </el-form>\n\n            </div>\n\n            </div>\n\n              <div>\n            \n            <div v-show="currentMenu==3" class="qrcode-wrap" style="height: 229px;">\n              \n              <div class="qrcode-wrapper" :class="{\'refresh-wrap\':isQrcodeAlert}">\n              \n              <div>\n                <img id="qrcode_img" class="qrcode-img" :src="\'\'+qrcodeImgUrl" alt="" v-if="qrcodeShow"><div id="qrcode_img_alert_layout" class="qrcode-hide" v-if="isQrcodeAlert">\n                  <div class="qrcode-no">\n                    <i class="su-icon-warning" style="display: block;font-size: 30px;color: #F5A623;"></i>\n                    <span>{{qrcodeAlertMessage}}</span>\n                  </div>\n                  <div>\n                    <sw-button round type="primary" size="mini" @click="refreshQrCode">刷新二维码</sw-button>\n                  </div>\n                </div>\n              </div>\n              \n              <img class="phone-img" src="/cas/themes/nwpu/images/nwpu/phone.png" alt=""></div>\n              \n              <div class="qrcode-tip">打开 “<span>西北工业大学APP</span>” 扫描二维码</div>\n              \n              <form method="post" id="fm3" action="login" style="display: none;">\n                <input type="hidden" name="qrCodeKey" v-model="stateKey"/><input type="hidden" name="currentMenu" value="3"/><!-- <input type="hidden" name="execution" th:value="${flowExecutionKey}"/>\n                <input type="hidden" name="_eventId" value="submit"/> --><input type="hidden" name="geolocation"/><input class="btn btn-submit" name="_eventId_success" type="submit" value="Submit"/></form>\n\n            </div>\n\n            </div>\n\n\n              <div style="margin: 10px 20px">\n                <div class="el-row">\n                  <span style="position:relative;top:-7px;font-size:12px;color:#021525;">Or login with:</span>\n\n\n                      <div style="margin:0 5px;font-size:30px;display: inline-block;width: 30px;height: 30px;border-radius: 30px;cursor: pointer">\n                        <a href="/cas/federatedRedirect?federatedName=qq" title="QQ" >\n                        <img src="/cas/themes/nwpu/images/qq.png" style="width: 30px;height: 30px; border: 0;" /></a>\n                      </div>\n                      <!-- /*\n                        <i th:case="openweixin" \n                           class="su-icon-weixinbian" style="color:#0EBB07;" onmouseover="javascript: this.className=\'su-icon-wechat\';" onmouseout="javascript: this.className=\'su-icon-weixinbian\';"></i>\n                        <i th:case="qq" \n                           class="su-icon-QQbian" style="color:#1196DB;" onmouseover="javascript: this.className=\'su-icon-tencent\';" onmouseout="javascript: this.className=\'su-icon-QQbian\';"></i>\n                        <i th:case="workweixin" \n                           class="su-icon-wechat-company" style="color:#0082EF;" onmouseover="javascript: this.className=\'su-icon-wechat-company\';" onmouseout="javascript: this.className=\'su-icon-wechat-company\';"></i>\n                        <i th:case="alipay" \n                           class="su-icon-alipay" style="color:#08ABE4;" onmouseover="javascript: this.className=\'su-icon-alipay\';" onmouseout="javascript: this.className=\'su-icon-alipay\';"></i>\n                        */ --><div style="margin:0 5px;font-size:30px;display: inline-block;width: 30px;height: 30px;border-radius: 30px;cursor: pointer">\n                        <a href="/cas/federatedRedirect?federatedName=openweixin" title="WeChat" >\n                        <img src="/cas/themes/nwpu/images/wechat.png" style="width: 30px;height: 30px; border: 0;" /></a>\n                      </div>\n\n                        <!-- /*\n                        <i th:case="openweixin" \n                           class="su-icon-weixinbian" style="color:#0EBB07;" onmouseover="javascript: this.className=\'su-icon-wechat\';" onmouseout="javascript: this.className=\'su-icon-weixinbian\';"></i>\n                        <i th:case="qq" \n                           class="su-icon-QQbian" style="color:#1196DB;" onmouseover="javascript: this.className=\'su-icon-tencent\';" onmouseout="javascript: this.className=\'su-icon-QQbian\';"></i>\n                        <i th:case="workweixin" \n                           class="su-icon-wechat-company" style="color:#0082EF;" onmouseover="javascript: this.className=\'su-icon-wechat-company\';" onmouseout="javascript: this.className=\'su-icon-wechat-company\';"></i>\n                        <i th:case="alipay" \n                           class="su-icon-alipay" style="color:#08ABE4;" onmouseover="javascript: this.className=\'su-icon-alipay\';" onmouseout="javascript: this.className=\'su-icon-alipay\';"></i>\n                        */ --></div>\n              </div>\n\n    <div style="margin: 10px 20px">\n                <el-row style="text-align: center">\n                  <a href="/cas/personal/activeYourAccount" target="_blank" style="text-decoration-line: none;">\n                    <button type="button" class="el-button el-button--text el-button--small" style="font-size: 14px;"><span>Active your account</span></button>\n                  </a>\n                  \n                </el-row>\n              </div>\n              \n            </div>\n          \n          </div>\n        </div>\n\n      </el-row>\n      \n      <el-row style="margin:30px 50px;color:#2367B1">\n\n        <el-row>\n          <a href="https://ecampus.nwpu.edu.cn/active.html" target="_blank" style="text-decoration-line: none;"><button type="button" class="el-button el-button--text el-button--small" style="font-size: 14px; margin-right: 30px;"><i class="su-icon-bulb"></i><span>账号激活攻略</span></button></a>\n          <a href="https://ecampus.nwpu.edu.cn/forget.html" target="_blank" style="text-decoration-line: none;"><button type="button" class="el-button el-button--text el-button--small" style="font-size: 14px; margin-right: 30px;"><i class="su-icon-lock-copy"></i><span>密码找回攻略</span></button></a>\n          <a href="https://user-query.nwpu.edu.cn/user-query/newSearchNum" target="_blank" style="text-decoration-line: none;"><button type="button" class="el-button el-button--text el-button--small" style="font-size: 14px; margin-right: 30px;"><i class="su-icon-chaxun"></i><span>本科新生学号查询</span></button></a>\n          <a href="https://dev-portal.nwpu.edu.cn/" target="_blank" style="text-decoration-line: none;"><button type="button" class="el-button el-button--text el-button--small" style="font-size: 14px; margin-right: 30px;"><i class="su-icon-yifasong"></i><span>开放平台</span></button></a>\n\n\n          <span  style="position:relative;float:right;color:#021525A6;font-size: 12px;height: 25px; display:inline-block;">\n            <span style="font-size: 14px; display:inline-block;line-height: 20px;height: 20px;">建议浏览器</span>\n\n            <span style="cursor: pointer; display:none;line-height: 20px;height: 20px">\n              <a :href="support[0].url" target="_blank"><img style="width: 16px;height: 16px;vertical-align: middle;margin:0 4px;" :src="support[0].img"/></a>\n            </span>\n            <span style="cursor: pointer; display:inline-block;line-height: 20px;height: 20px">\n              <a :href="support[1].url" target="_blank"><img style="width: 16px;height: 16px;vertical-align: middle;margin:0 4px;" :src="support[1].img"/></a>\n            </span>\n            <span style="cursor: pointer; display:inline-block;line-height: 20px;height: 20px">\n              <a :href="support[2].url" target="_blank"><img style="width: 16px;height: 16px;vertical-align: middle;margin:0 4px;" :src="support[2].img"/></a>\n            </span>\n            <span style="cursor: pointer; display:inline-block;line-height: 20px;height: 20px">\n              <a :href="support[3].url" target="_blank"><img style="width: 16px;height: 16px;vertical-align: middle;margin:0 4px;" :src="support[3].img"/></a>\n            </span>\n            <span style="cursor: pointer; display:inline-block;line-height: 20px;height: 20px">\n              <a :href="support[4].url" target="_blank"><img style="width: 16px;height: 16px;vertical-align: middle;margin:0 4px;" :src="support[4].img"/></a>\n            </span>\n\n            <!-- /* <span style="cursor: pointer; display:inline-block;line-height: 20px;height: 20px" @mouseout="browserActive=-1" @mouseover="browserActive=index" v-for="(item,index) in support"> */ --><!-- /*\n              <div style="margin: 0 5px;font-size: 18px;line-height: 20px;height: 20px;" v-show="browserActive!=index">\n                <i  @click="browserHandle(item.route)" class="browsers" :class="item.icon" style="position:relative;top:0px;"></i>\n              </div>\n              */ --><!-- /*\n              <div style="margin: -2px 5px 0;font-size: 18px;line-height: 20px;height: 20px; ">\n                <i  @click="browserHandle(item.route)" class="browsers su-icon-1" :style="\'background:url(\'+item.img+\') no-repeat;background-size: 100% 100%;\'" style="position:relative;top:2px;vertical-align: baseline;width: 18px;height: 18px; display: inline-block; " :src="item.img"></i>\n              </div>\n              */ --><!-- /* <img style="width: 16px;height: 16px;vertical-align: middle;margin:0 4px;" :src="item.img"/> */ --><!-- /* </span> */ --></span>\n\n        </el-row>\n\n        <el-row style="color:#021525A6;font-size: 12px">\n          <div><p class="information" style="margin-bottom:10px;"><span>信息化建设与管理处：88491717</span><span>电邮：app@nwpu.edu.cn</span><span>QQ群：540478672</span></p><p>Copyright © 2020 Northwestern Polytechnical University All Rights Reserved</p></div>\n        </el-row>\n\n      </el-row>\n    \n    </el-row>\n  \n  </div>\n\n    <div class="card">\n\n    <el-dialog v-if="mfaEnabled"\n      class="dialog-wrap"\n      title="安全验证"\n      :visible.sync="guardDialogVisible"\n      width="550px"\n      height="420px"\n      :before-close="hideGuardDialog">\n      \n      <div class="check-tips"><img src="/cas/themes/nwpu/images/tip.svg"></img>当前登录环境异常，需通过安全验证确认是本人操作后才可继续登录。请选择安全验证方式！</div>\n      \n      <div class="type-wrap">\n        <el-row type="flex" align="center" justify="space-between">\n          <el-col :span="12" class="safe-flex">\n            <img class="safe-title-icon" :src="typeInfo[typeIndex].icon" :alt="typeInfo[typeIndex].title" :title="typeInfo[typeIndex].title"><span class="type-title">{{typeInfo[typeIndex].info}}</span>\n          </el-col>\n          <el-col :span="12" class="safe-flex safe-flex2">\n            <span class="other-title">其他方式</span>\n            <span v-for="(type,index) in typeInfo" :key="index">\n              <img class="safe-icon" style="cursor: pointer;" v-if="index!=typeIndex && typeInfo[index].enabled" :src="type.icon2" :alt="type.title" :title="type.title" @click="changeGuard(index)" ></span>\n          </el-col>\n        </el-row>\n      </div>\n      \n      <div v-if="typeIndex==0" class="app-style" style="height: 102px;">\n        <div>点击发送验证请求后，请在 <span>西北工业大学APP</span> 上进行确认，完成安全验证</div>\n        <div class="code-wrap">\n          <div v-show="appPushCallbackCode" style="position: relative; text-align: center; font-size: 19px; margin-top: 15px;">确认码：{{appPushCallbackCode}}</div>\n          <div class="error-text" v-show="appPushStatusShowAlert" style="position: relative; text-align: center; font-size: 12px;">{{appPushStatusAlertMessage}}</div>\n        </div>\n      </div>\n      \n      <div v-if="typeIndex==1" class="phone-style-wrap" style="height: 160px; padding-bottom: 3px;">\n        <div class="phone-style" v-show="securePhone"><span>+86</span> {{securePhone}}</div>\n        <div class="code-wrap">\n          <el-input class="input-style" v-show="securePhone" v-model="securePhoneCode"></el-input>\n          <el-button type=\'text\' class="code-text" v-show="securePhone" @click="securePhoneSend" :disabled="securePhoneSendDisabled">{{securePhoneSendText}}</el-button>\n          <div class="error-text" v-show="securePhoneValidShowAlert" style="position: relative; text-align: center; font-size: 12px;">{{securePhoneValidAlertMessage}}</div>\n          <div class="error-text" v-show="!securePhone" style="position: relative; text-align: center; font-size: 12px;">安全手机未绑定，无法使用安全手机验证</div>\n        </div>\n      </div>\n      \n      <div v-if="typeIndex==2" class="phone-style-wrap" style="height: 160px; padding-bottom: 3px;">\n        <div class="phone-style" v-show="secureEmail">{{secureEmail}}</div>\n        <div class="code-wrap">\n          <el-input class="input-style" v-show="secureEmail" v-model="secureEmailCode"></el-input>\n          <el-button type=\'text\' class="code-text" v-show="secureEmail" @click="secureEmailSend" :disabled="secureEmailSendDisabled">{{secureEmailSendText}}</el-button>\n          <div class="error-text" v-show="secureEmailValidShowAlert" style="position: relative; text-align: center; font-size: 12px;">{{secureEmailValidAlertMessage}}</div>\n          <div class="error-text" v-show="!secureEmail" style="position: relative; text-align: center; font-size: 12px;">安全邮箱未绑定，无法使用安全邮箱验证</div>\n        </div>\n      </div>\n      \n      <div v-if="typeIndex==3" class="face-style-wrap" style="height: 152px; padding-bottom: 3px;">\n\n        <div class="qrcode" v-if=\'!qrCodeScanSuccess\'>\n          <img v-if="qrCodeScanQrcode" :src="qrCodeScanQrcode"><div class="qrcode-reset-opacity" v-if=\'qrCodeStatusShowAlert\'></div>\n          <div class="qrcode-reset-wrap" v-if=\'qrCodeStatusShowAlert\' @click="qrCodeRefresh">\n            <i class="el-icon-refresh-right"></i>\n            <div>点击刷新二维码</div>\n          </div>\n        </div>\n        <div v-if=\'!qrCodeScanSuccess\'>支持 {{qrCodeScanTypeNames}} 的扫一扫功能，完成安全验证</div>\n\n        <div class="face-sucess" v-if=\'qrCodeScanSuccess && qrCodeStatusShowAlert\'>\n          <img src="/cas/themes/nwpu/images/safe/dui.png"><div>{{qrCodeStatusAlertMessage}}</div>\n        </div>\n        <div v-if=\'qrCodeScanSuccess && qrCodeStatusShowAlert\' v-show="qrCodeCallbackCode" style="position: relative; text-align: center; font-size: 19px; margin-bottom: 15px;">确认码：{{qrCodeCallbackCode}}</div>\n        <div v-if=\'qrCodeScanSuccess && qrCodeStatusShowAlert\'>请在手机上点击同意以完成安全验证</div>\n      </div>\n      \n      <div v-if="typeIndex==4" class="face-style-wrap" style="height: 152px; padding-bottom: 3px;">\n        <div class="qrcode" v-if=\'faceType!=3\'>\n          <img src="./assets/img/qrcode.jpeg"><div class="qrcode-reset-opacity" v-if=\'faceType==2\'></div>\n          <div class="qrcode-reset-wrap" v-if=\'faceType==2\'>\n            <i class="el-icon-refresh-right"></i>\n            <div>点击刷新二维码</div>\n          </div>\n        </div>\n        <div class="face-sucess" v-if=\'faceType==3\'>\n          <img src="./assets/img/safe/dui.png"><div>扫描成功</div>\n        </div>\n        <div v-if="faceType!=3">打开手机App扫描二维码</div>\n        <div v-else>请在手机上点击同意以完成安全验证</div>\n      </div>\n      \n      <span slot="footer" class="dialog-footer" style="height: 50px; display: block;">\n        <el-button type="primary" v-if="typeIndex==0" @click="appPushSend" :disabled="appPushSendDisabled">{{appPushSendText}}</el-button>\n\n        <el-button type="primary" v-if="typeIndex==1" v-show="securePhone" @click=\'securePhoneValid\' :disabled="!securePhoneCode">确 定</el-button>\n        <el-button type="primary" v-if="typeIndex==2" v-show="secureEmail" @click=\'secureEmailValid\' :disabled="!secureEmailCode">确 定</el-button>\n\n      </span>\n\n    </el-dialog>\n\n            </div>\n  \n  </div>\n  \n  </div>\n\n<script type="text/javascript">\n  \n\n  var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i) != null;\n\n  var superappName = "\\u897F\\u5317\\u5DE5\\u4E1A\\u5927\\u5B66APP";\n\n  var currentMenu = localStorage.currentMenu;\n  // var currentMenu = "1";\n\n  var qrCodeEnabled = true;\n  var isQrcode = false;\n\n  if (currentMenu) {\n    \n  } else {\n    currentMenu = "3";\n  }\n\n  if (currentMenu == 3) {\n    if (qrCodeEnabled == true || qrCodeEnabled == \'true\') {\n      //currentMenu = "1";\n      isQrcode = true;\n    } else {\n      //currentMenu = "1";\n      isQrcode = false;\n    }\n  }\n  \n  var ppts = [];\n  var backgrounds = [];\n\n  if (ppts != null) {\n    for (var i = 0; i < ppts.length; i++) {\n      backgrounds[i] = ppts[i].fileurl;\n    }\n  }\n\n  if (backgrounds == null || backgrounds.length == 0) {\n    backgrounds = [\n                   "\\/cas\\/themes\\/nwpu\\/images\\/nwpu\\/bg.png"\n                 ];\n  }\n\n\n  var mfaEnabled = "true" == "true";\n\n  var mfaTypeAppPush = "false" == "true";\n  var mfaTypeSecurePhone = "true" == "true";\n  var mfaTypeSecureEmail = "true" == "true";\n  var mfaTypeQrCode = "false" == "true";\n//  var mfaTypeFaceVerify = "false" == "true";\n\n  if (isMobile) {\n    mfaTypeQrCode = false;\n//    mfaTypeFaceVerify = false;\n  }\n\n  var defaultTypeIndex = 0;\n  if (mfaTypeAppPush) {\n    defaultTypeIndex = 0;\n  } else if (mfaTypeSecurePhone) {\n    defaultTypeIndex = 1;\n  } else if (mfaTypeSecureEmail) {\n    defaultTypeIndex = 2;\n  } else if (mfaTypeQrCode) {\n    defaultTypeIndex = 3;\n//  } else if (mfaTypeFaceVerify) {\n//    defaultTypeIndex = 4;\n  }\n\n\n  var dialogVisible = false;\n  var SwUI = SWUI;\n  new Promise(function (resolve) {\n    Vue.use(SwUI, {\n      size: \'small\',\n      i18n: function (_i18n) {\n        function i18n(_x, _x2) {\n          return _i18n.apply(this, arguments);\n        }\n\n        i18n.toString = function () {\n          return _i18n.toString();\n        };\n\n        return i18n;\n      }(function (key, value) {\n        return i18n.t(key, value);\n      })\n    });\n  });\n  var vm = new Vue({\n    el: \'#vue_main\',\n    data: function data() {\n      return {\n        isMobile: isMobile,\n        background: 0,\n        backgrounds: backgrounds,\n        bg: "\\/cas\\/themes\\/nwpu\\/images\\/nwpu\\/top-bg.png",\n        logo: "\\/cas\\/themes\\/nwpu\\/images\\/nwpu\\/logo.png",\n        title: "\\/cas\\/themes\\/nwpu\\/images\\/nwpu\\/title.png",\n        currentMenu: currentMenu,\n        loading: false,\n        support:[\n                 {\n                   img: "\\/cas\\/themes\\/nwpu\\/images\\/nwpu\\/ie-icon.png",\n                   url: \'https://support.microsoft.com/zh-cn/help/17621/internet-explorer-downloads\'\n                 },\n                 {\n                   img: "\\/cas\\/themes\\/nwpu\\/images\\/nwpu\\/chrome-icon.png",\n                   url: \'https://www.google.cn/chrome/index.html\'\n                 },\n                 {\n                   img: "\\/cas\\/themes\\/nwpu\\/images\\/nwpu\\/firefox-icon.png",\n                   url: \'https://www.firefox.com.cn/\'\n                 },\n                 {\n                   img: "\\/cas\\/themes\\/nwpu\\/images\\/nwpu\\/360-icon.png",\n                   url: \'https://browser.360.cn/ee/\'\n                 },\n                 {\n                   img: "\\/cas\\/themes\\/nwpu\\/images\\/nwpu\\/sogou-icon.png",\n                   url: \'https://ie.sogou.com/\'\n                 }\n               ],\n        offset: 0,\n        browserActive: -1,\n        jointActive: -1,\n        dialogVisible: dialogVisible,\n        clientHeight: 0,\n\n        isQrcode: isQrcode,\n        qrcodeShow: false,\n        qrcodeImgUrl: "",\n        qrcodeTimeout: 0,\n        isQrcodeAlert: false,\n        qrcodeAlertMessage: "",\n        stateKey: "",\n\n\n        mfaEnabled: mfaEnabled,\n        guardDialogVisible: false,\n\n        typeList:[\'使用App推送认证\',\'使用安全手机认证\',\'使用安全邮箱认证\',\'使用客户端扫码\',\'使用人脸识别认证\'],\n        iconIndex:0,  //安全验证方式   0：app 推送；1：安全手机； 2：安全邮箱  3：客户端扫码  4：人脸识别\n        safeIcon2:[\n                   "\\/cas\\/themes\\/nwpu\\/images\\/safe\\/app2.png",\n                   "\\/cas\\/themes\\/nwpu\\/images\\/safe\\/phone2.png",\n                   "\\/cas\\/themes\\/nwpu\\/images\\/safe\\/email2.png",\n                   "\\/cas\\/themes\\/nwpu\\/images\\/safe\\/qrcode2.png",\n                   "\\/cas\\/themes\\/nwpu\\/images\\/safe\\/face2.png"\n                  ],\n        safeIcon:[\n                  "\\/cas\\/themes\\/nwpu\\/images\\/safe\\/app.png",\n                  "\\/cas\\/themes\\/nwpu\\/images\\/safe\\/phone.png",\n                  "\\/cas\\/themes\\/nwpu\\/images\\/safe\\/email.png",\n                  "\\/cas\\/themes\\/nwpu\\/images\\/safe\\/qrcode.png",\n                  "\\/cas\\/themes\\/nwpu\\/images\\/safe\\/face.png"\n                 ],\n\n        showError:false,  //是否显示验证码错误\n        typeInfo: [\n                   {\'type\':\'apppush\', \'enabled\': mfaTypeAppPush, \'title\':\'APP推送\', \'info\':\'使用APP推送验证\', \'icon\':"\\/cas\\/themes\\/nwpu\\/images\\/safe\\/app.png", \'icon2\':"\\/cas\\/themes\\/nwpu\\/images\\/safe\\/app2.png"},\n                   {\'type\':\'securephone\', \'enabled\': mfaTypeSecurePhone, \'title\':\'安全手机\', \'info\':\'使用安全手机验证\', \'icon\':"\\/cas\\/themes\\/nwpu\\/images\\/safe\\/phone.png", \'icon2\':"\\/cas\\/themes\\/nwpu\\/images\\/safe\\/phone2.png"},\n                   {\'type\':\'secureemail\', \'enabled\': mfaTypeSecureEmail, \'title\':\'安全邮箱\', \'info\':\'使用安全邮箱验证\', \'icon\':"\\/cas\\/themes\\/nwpu\\/images\\/safe\\/email.png", \'icon2\':"\\/cas\\/themes\\/nwpu\\/images\\/safe\\/email2.png"},\n                   {\'type\':\'qrcode\', \'enabled\': mfaTypeQrCode, \'title\':\'客户端扫码\', \'info\':\'使用客户端扫码\', \'icon\':"\\/cas\\/themes\\/nwpu\\/images\\/safe\\/qrcode.png", \'icon2\':"\\/cas\\/themes\\/nwpu\\/images\\/safe\\/qrcode2.png"},\n                   // {\'type\':\'faceverify\', \'enabled\': mfaTypeFaceVerify, \'title\':\'人脸识别\', \'info\':\'使用人脸识别验证\', \'icon\':"\\/cas\\/themes\\/nwpu\\/images\\/safe\\/face.png", \'icon2\':"\\/cas\\/themes\\/nwpu\\/images\\/safe\\/face2.png"},\n                   ],\n        typeIndex: defaultTypeIndex,  //安全验证方式   0：app 推送；1：安全手机； 2：安全邮箱  3：客户端扫码  4：人脸识别\n        faceType:1,  // 人脸识别认证状态  1  扫描二维码  2 刷新二维码  3 扫描成功\n        \n        \n        attestServerUrl: null,\n        gid: null,\n        \n        appPushSendTimeout: 0,\n        appPushSendDisabled: false,\n        appPushSendText: "点击发送验证请求",\n        appPushSendSeconds: 30,\n        appPushStatusTimeout: 0,\n        appPushStatusShowAlert: false,\n        appPushStatusAlertMessage: null,\n        appPushCallbackCode: null,\n\n        securePhone:\'\',\n        securePhoneSendTimeout: 0,\n        securePhoneSendDisabled: false,\n        securePhoneSendText: "获取验证码",\n        securePhoneSendSeconds: 60,\n        securePhoneCode:\'\',\n        securePhoneValidShowAlert: false,\n        securePhoneValidAlertMessage: null,\n\n        secureEmail:\'\',\n        secureEmailSendTimeout: 0,\n        secureEmailSendDisabled: false,\n        secureEmailSendText: "获取验证码",\n        secureEmailSendSeconds: 60,\n        secureEmailCode:\'\',\n        secureEmailValidShowAlert: false,\n        secureEmailValidAlertMessage: null,\n        \n        qrCode:null,\n        qrCodeScanTypeNames: "",\n        qrCodeScanQrcode: null,\n        qrCodeScanSuccess: false,\n        qrCodeStatusTimeout: 0,\n        qrCodeStatusShowAlert: false,\n        qrCodeStatusAlertMessage: null,\n        qrCodeCallbackCode: null,\n\n      };\n    },\n    mounted: function mounted() {\n      var _this = this;\n\n      this.clientHeight = document.documentElement.clientHeight; //获取浏览器可视区域高度\n\n      var width = 1600;\n      var maxwidth = 4000;\n      this.offset = document.body.clientWidth - width > 0 ? document.body.clientWidth - width : 0;\n\n      window.onresize = function () {\n        _this.offset = document.body.clientWidth - width > 0 ? document.body.clientWidth - width : 0;\n\n        if (_this.offset > maxwidth - width) {\n          _this.offset = maxwidth - width;\n        }\n\n        _this.clientHeight = document.documentElement.clientHeight;\n      };\n\n      localStorage.currentMenu = this.currentMenu;\n      \n      if (this.isQrcode) {\n        // 显示二维码\n        var self = this;\n        self.isQrcodeAlert = false;\n        self.qrcodeAlertMessage = "";\n        self.stateKey = "";\n        \n        this.qrInit();\n        /* this.qrcodeImgUrl = "\\/cas\\/qr\\/qrcode"+"?r=" +(new Date()).getTime()+ Math.floor(Math.random()*24);\n        this.qrcodeShow = true;\n        \n        window.setTimeout(self.startQrComet, 1000); */\n      }\n    },\n    methods: {\n      changeMenu: function changeMenu(index) {\n        this.currentMenu = index;\n        localStorage.currentMenu = this.currentMenu;\n        \n        if (this.currentMenu == "3") {\n          // 显示二维码\n          var self = this;\n          self.isQrcodeAlert = false;\n          self.qrcodeAlertMessage = "";\n          self.stateKey = "";\n          \n          this.qrInit();\n        } else {\n          var self = this;\n          self.isQrcodeAlert = false;\n          self.qrcodeAlertMessage = "";\n          self.stateKey = "";\n\n          this.qrcodeImgUrl = "";\n          this.qrcodeShow = false;\n\n          window.clearTimeout(self.qrcodeTimeout);\n        }\n      },\n      browserHandle: function browserHandle(route) {\n        window.open(route);\n      },\n      showErrorMessageUsername: function showErrorMessageUsername() {\n        var message = "Enter your Username" + "\\u8BF7\\u8F93\\u5165\\u7528\\u6237\\u540D\\/\\u624B\\u673A\\/\\u90AE\\u7BB1\\/\\u8BC1\\u4EF6\\u53F7";\n        this.$message.error(message);\n      },\n      showErrorMessagePassword: function showErrorMessagePassword() {\n        var message = "Enter your Password";\n        this.$message.error(message);\n      },\n      showErrorMessageMobile: function showErrorMessageMobile() {\n        var message = "Enter your Mobile";\n        this.$message.error(message);\n      },\n      showErrorMessageDynamicCode: function showErrorMessageDynamicCode() {\n        var message = "Enter the Dynamic Code";\n        this.$message.error(message);\n      },\n      showSuccessMessageSendCode: function showSuccessMessageSendCode() {\n        var message = "Send success!";\n        this.$message.info(message);\n      },\n      showFailureMessageSendCode: function showFailureMessageSendCode() {\n        var message = "Send fail!";\n        this.$message.error(message);\n      },\n      handleClose: function handleClose() {\n        this.dialogVisible = false;\n      },\n\n      openOrCloseQrCode: function openOrCloseQrCode() {\n        var self = this;\n        self.isQrcodeAlert = false;\n        self.qrcodeAlertMessage = "";\n        self.stateKey = "";\n        this.isQrcode = !this.isQrcode;\n\n        if (this.isQrcode) {\n          this.qrInit();\n          /* this.qrcodeImgUrl = "\\/cas\\/qr\\/qrcode"+"?r=" +(new Date()).getTime()+ Math.floor(Math.random()*24);\n          this.qrcodeShow = true;\n          \n          window.setTimeout(self.startQrComet, 1000); */\n        } else {\n          this.qrcodeImgUrl = "";\n          this.qrcodeShow = false;\n\n          window.clearTimeout(self.qrcodeTimeout);\n        }\n      },\n      qrInit: function qrInit() {\n        var self = this;\n        \n        var url = "\\/cas\\/qr\\/init";\n        $.ajax({\n          url: url,\n          type: "GET",\n          dataType: "json",\n          timeout: 1000,\n          success: function success(r) {\n            self.qrcodeImgUrl = "\\/cas\\/qr\\/qrcode"+"?r=" +(new Date()).getTime()+ Math.floor(Math.random()*24);\n            self.qrcodeShow = true;\n            \n            window.setTimeout(self.startQrComet, 1000);\n          }\n        });\n      },\n      startQrComet: function startQrComet() {\n        var self = this;\n        window.clearTimeout(self.qrcodeTimeout); // 开启定时\n\n        function qrComet() {\n          var url = "\\/cas\\/qr\\/comet";\n          $.ajax({\n            url: url,\n            type: "POST",\n            dataType: "json",\n            timeout: 1000,\n            success: function success(r) {\n              // console.log(r);\n              if (r && r.code == 0) {\n                self.isQrcodeExpired = false;\n                var stateKey = r.data.stateKey;\n                var qrCode = r.data.qrCode;\n\n                if (qrCode.status == "1") {\n                  // 1 创建、未扫码\n                  self.isQrcodeAlert = false;\n                  self.qrcodeAlertMessage = "";\n                  self.stateKey = "";\n                } else if (qrCode.status == "2") {\n                  // 2 已扫码\n                  self.isQrcodeAlert = true;\n                  self.qrcodeAlertMessage = "扫码成功";\n                  self.stateKey = "";\n                } else if (qrCode.status == "3") {\n                  // 3 已授权\n                  self.isQrcodeAlert = true;\n                  self.qrcodeAlertMessage = "确认登录";\n                  self.stateKey = stateKey;\n                  window.clearTimeout(self.qrcodeTimeout);\n                  window.setTimeout(function () {\n                    $("#fm3").submit();\n                  }, 500);\n                } else if (qrCode.status == "4") {\n                  // 4 已取消\n                  self.isQrcodeAlert = true;\n                  self.qrcodeAlertMessage = "取消登录";\n                  self.stateKey = "";\n                  window.clearTimeout(self.qrcodeTimeout);\n                }\n              } else if (r && r.code == 1) {\n                self.isQrcodeAlert = true;\n                self.qrcodeAlertMessage = "二维码已失效";\n                self.stateKey = "";\n                window.clearTimeout(self.qrcodeTimeout);\n              } else {\n                self.isQrcodeAlert = true;\n                self.qrcodeAlertMessage = "出现异常";\n                self.stateKey = "";\n                window.clearTimeout(self.qrcodeTimeout);\n              }\n            }\n          });\n          self.qrcodeTimeout = window.setTimeout(qrComet, 2000);\n        }\n\n        self.qrcodeTimeout = window.setTimeout(qrComet, 2000);\n      },\n      refreshQrCode: function refreshQrCode() {\n        var self = this;\n        self.isQrcodeAlert = false;\n        self.qrcodeAlertMessage = "";\n        self.stateKey = "";\n        \n        this.qrInit();\n        /* this.qrcodeImgUrl = "\\/cas\\/qr\\/qrcode"+"?r=" +(new Date()).getTime()+ Math.floor(Math.random()*24);\n        this.qrcodeShow = true;\n        \n        window.setTimeout(self.startQrComet, 1000); */\n      },\n\n\n      showGuardDialog: function showGuardDialog() {\n        var self = this;\n        this.clearAppPushStatus();\n        this.clearSecurePhone();\n        this.clearSecureEmail();\n        this.clearQrCode();\n        \n        this.typeIndex = defaultTypeIndex;\n        this.guardDialogVisible = true;\n        \n        this.changeGuard(defaultTypeIndex);\n      },\n      hideGuardDialog: function hideGuardDialog() {\n        $("#fm1").find(\'[name="mfaState"]\').val(\'\');\n\n        var self = this;\n        this.clearAppPushStatus();\n        this.clearSecurePhone();\n        this.clearSecureEmail();\n        this.clearQrCode();\n\n        this.typeIndex = defaultTypeIndex;\n        this.guardDialogVisible = false;\n      },\n      \n      changeGuard: function changeGuard(index) {\n        var self = this;\n        this.clearAppPushStatus();\n        this.clearSecurePhone();\n        this.clearSecureEmail();\n        this.clearQrCode();\n\n        this.typeIndex = index;\n        \n        this.initGuard();\n      },\n      \n      initGuard: function initGuard() {\n        var self = this;\n        \n        var type = this.typeInfo[this.typeIndex].type;\n        var state = $("#fm1").find(\'[name="mfaState"]\').val();\n        \n        var url = "\\/cas\\/mfa\\/initByType"+"/"+type;\n        url += "?state=" + state;\n        $.ajax({\n          type: "GET",\n          url: url,\n          dataType: "json",\n          success: function success(r) {\n            console.log(url, r);\n            if (r && r.code == 0) {\n              self.securePhone = r.data.securePhone;\n              self.secureEmail = r.data.secureEmail;\n              \n              self.qrCode = r.data.qrCode;\n              \n              self.attestServerUrl = r.data.attestServerUrl;\n              self.gid = r.data.gid;\n              \n              self.qrCodeInit();\n            } else {\n              self.securePhone = null;\n              self.secureEmail = null;\n              \n              self.qrCode = null;\n\n              self.attestServerUrl = null;\n              self.gid = null;\n            }\n          },\n          error: function error(err) {\n            self.securePhone = null;\n            self.secureEmail = null;\n            \n            self.qrCode = null\n\n            self.attestServerUrl = null;\n            self.gid = null;\n          }\n        });\n      },\n      \n      appPushSend: function appPushSend() {\n        var self = this;\n\n        function appPushSendCountDown() {\n          self.appPushSendSeconds --;\n          \n          self.appPushSendDisabled = true;\n          self.appPushSendText = "点击发送验证请求" + "("+self.appPushSendSeconds+")";\n          \n          self.appPushSendTimeout = window.setTimeout(appPushSendCountDown, 1000);\n          \n          if (self.appPushSendSeconds <= 0) {\n            window.clearTimeout(self.appPushSendTimeout);\n            \n            self.appPushSendDisabled = false;\n            self.appPushSendText = "点击发送验证请求";\n            self.appPushSendSeconds = 30;\n          }\n        }\n\n        self.appPushSendDisabled = true;\n\n        var url = self.attestServerUrl + \'/api/guard/apppush/send\';\n        var postdata = { "gid": self.gid };\n        \n        $.ajax({\n          type: "POST",\n          url: url,\n          contentType: \'application/json; charset=UTF-8\',\n          data: JSON.stringify(postdata),\n          dataType: "json",\n          success: function success(r) {\n            console.log(url, r);\n\n            self.appPushSendDisabled = false;\n\n            if (r && r.code == 0 && r.data.callbackCode) {\n              self.appPushStatusShowAlert = false;\n              self.appPushStatusAlertMessage = "";\n\n              self.appPushCallbackCode = r.data.callbackCode;\n\n              self.startAppPushStatus();\n              \n              appPushSendCountDown();\n            } else {\n              \n              self.startAppPushStatus();\n            }\n          },\n          error: function error(err) {\n            console.log(err);\n\n            self.appPushSendDisabled = false;\n          }\n        });\n      },\n      startAppPushStatus: function startAppPushStatus() {\n        var self = this;\n\n        window.clearTimeout(self.appPushStatusTimeout); // 定时\n        \n        /*\n         * status \n         * 0 init 新建、初始化, \n         * 1 sent 已发送、已扫码等, \n         * 2 valid 验证通过, \n         * 3 fail 验证失败, \n         * 5 cancel 取消, \n         * 9 expired 已过期、不存在\n         */\n        function appPushStatus() {\n          var url = self.attestServerUrl + \'/api/guard/apppush/status\';\n          var postdata = { "gid": self.gid };\n          \n          $.ajax({\n            type: "POST",\n            url: url,\n            contentType: \'application/json; charset=UTF-8\',\n            data: JSON.stringify(postdata),\n            dataType: "json",\n            timeout: 1000,\n            success: function success(r) {\n              // console.log(url, r);\n              if (r && r.code == 0) {\n                var status = r.data.status;\n                \n                if (status == 0) {\n                  \n                  self.appPushStatusShowAlert = false;\n                  self.appPushStatusAlertMessage = "";\n                } else if (status == 1) {\n                  \n                  self.appPushStatusShowAlert = true;\n                  self.appPushStatusAlertMessage = "等待确认";\n                } else if (status == 2) {\n                  \n                  self.appPushStatusShowAlert = true;\n                  self.appPushStatusAlertMessage = "已确认";\n\n                  window.clearTimeout(self.appPushStatusTimeout);\n                  window.setTimeout(function () {\n                    submitFm1();\n                  }, 500);\n                } else if (status == 3) {\n                  \n                  self.appPushStatusShowAlert = true;\n                  self.appPushStatusAlertMessage = "确认失败";\n                  \n                  window.clearTimeout(self.appPushStatusTimeout);\n                } else if (status == 5) {\n                  \n                  self.appPushStatusShowAlert = true;\n                  self.appPushStatusAlertMessage = "已取消";\n                  \n                  window.clearTimeout(self.appPushStatusTimeout);\n                } else if (status == 9) {\n                  \n                  self.appPushStatusShowAlert = true;\n                  self.appPushStatusAlertMessage = "已失效，请重新发送";\n                  \n                  self.appPushCallbackCode = null;\n                  \n                  window.clearTimeout(self.appPushStatusTimeout);\n                  \n                  window.setTimeout(function () {\n                    self.initGuard();\n                  }, 500);\n                  \n                }\n                \n              } else {\n                window.clearTimeout(self.appPushStatusTimeout);\n              }\n            },\n            error: function error(err) {\n              console.log(err);\n              window.clearTimeout(self.appPushStatusTimeout);\n            }\n          });\n          \n          self.appPushStatusTimeout = window.setTimeout(appPushStatus, 2000);\n        }\n        \n        self.appPushStatusTimeout = window.setTimeout(appPushStatus, 100);\n      },\n      \n      clearAppPushStatus: function clearAppPushStatus() {\n        var self = this;\n\n        window.clearTimeout(self.appPushSendTimeout);\n        \n        self.appPushSendDisabled = false;\n        self.appPushSendText = "点击发送验证请求";\n        self.appPushSendSeconds = 30;\n\n        window.clearTimeout(self.appPushStatusTimeout);\n        self.appPushStatusShowAlert = false;\n        self.appPushStatusAlertMessage = "";\n        \n        self.appPushCallbackCode = null;\n      },\n      \n      \n      securePhoneSend: function securePhoneSend() {\n        var self = this;\n        \n        function securePhoneSendCountDown() {\n          self.securePhoneSendSeconds --;\n          \n          self.securePhoneSendDisabled = true;\n          self.securePhoneSendText = "获取验证码" + "("+self.securePhoneSendSeconds+")";\n          \n          self.securePhoneSendTimeout = window.setTimeout(securePhoneSendCountDown, 1000);\n          \n          if (self.securePhoneSendSeconds <= 0) {\n            window.clearTimeout(self.securePhoneSendTimeout);\n            \n            self.securePhoneSendDisabled = false;\n            self.securePhoneSendText = "获取验证码";\n            self.securePhoneSendSeconds = 60;\n          }\n        }\n\n        self.securePhoneSendDisabled = true;\n\n        var url = self.attestServerUrl + \'/api/guard/securephone/send\';\n        var postdata = { "gid": self.gid };\n        \n        $.ajax({\n          type: "POST",\n          url: url,\n          contentType: \'application/json; charset=UTF-8\',\n          data: JSON.stringify(postdata),\n          dataType: "json",\n          success: function success(r) {\n            console.log(url, r);\n\n            self.securePhoneSendDisabled = false;\n\n            if (r && r.code == 0) {\n              self.securePhoneValidShowAlert = true;\n              self.securePhoneValidAlertMessage = "已发送";\n              \n              securePhoneSendCountDown();\n            } else if (r && r.code != 0 && r.data.result == \'expired\') {\n              self.securePhoneValidShowAlert = true;\n              self.securePhoneValidAlertMessage = "发送失败，已过期，请重新获取验证码";\n              \n              window.setTimeout(function () {\n                self.initGuard();\n              }, 500);\n            } else {\n              self.securePhoneValidShowAlert = true;\n              self.securePhoneValidAlertMessage = "发送失败";\n            }\n          },\n          error: function error(err) {\n            console.log(err);\n\n            self.securePhoneSendDisabled = false;\n\n            self.securePhoneValidShowAlert = true;\n            self.securePhoneValidAlertMessage = "发送失败";\n          }\n        });\n      },\n      securePhoneValid: function securePhoneValid() {\n        var self = this;\n        \n        var url = self.attestServerUrl + \'/api/guard/securephone/valid\';\n        var postdata = { "gid": self.gid, "code": self.securePhoneCode };\n        \n        $.ajax({\n          type: "POST",\n          url: url,\n          contentType: \'application/json; charset=UTF-8\',\n          data: JSON.stringify(postdata),\n          dataType: "json",\n          success: function success(r) {\n            console.log(url, r);\n            \n            if (r && r.code == 0) {\n              var status = r.data.status;\n            \t\n              if (status == 2) {\n                // self.clearSecurePhone();\n\n                window.setTimeout(function () {\n                  submitFm1();\n                }, 500);\n              } else {\n                self.securePhoneValidShowAlert = true;\n                self.securePhoneValidAlertMessage = "验证失败";\n              }\n            }\n\n          },\n          error: function error(err) {\n            console.log(err);\n          }\n        });\n      },\n\n      clearSecurePhone: function clearSecurePhone() {\n        var self = this;\n        \n        window.clearTimeout(self.securePhoneSendTimeout);\n        \n        self.securePhoneSendDisabled = false;\n        self.securePhoneSendText = "获取验证码";\n        self.securePhoneSendSeconds = 60;\n\n        self.securePhoneCode = \'\';\n        self.securePhoneValidShowAlert = false;\n        self.securePhoneValidAlertMessage = "";\n      },\n\n\n      secureEmailSend: function secureEmailSend() {\n        var self = this;\n        \n        function secureEmailSendCountDown() {\n          self.secureEmailSendSeconds --;\n          \n          self.secureEmailSendDisabled = true;\n          self.secureEmailSendText = "获取验证码" + "("+self.secureEmailSendSeconds+")";\n          \n          self.secureEmailSendTimeout = window.setTimeout(secureEmailSendCountDown, 1000);\n          \n          if (self.secureEmailSendSeconds <= 0) {\n            window.clearTimeout(self.secureEmailSendTimeout);\n            \n            self.secureEmailSendDisabled = false;\n            self.secureEmailSendText = "获取验证码";\n            self.secureEmailSendSeconds = 60;\n          }\n        }\n        \n        self.secureEmailSendDisabled = true;\n\n        var url = self.attestServerUrl + \'/api/guard/secureemail/send\';\n        var postdata = { "gid": self.gid };\n        \n        $.ajax({\n          type: "POST",\n          url: url,\n          contentType: \'application/json; charset=UTF-8\',\n          data: JSON.stringify(postdata),\n          dataType: "json",\n          success: function success(r) {\n            console.log(url, r);\n\n            self.secureEmailSendDisabled = false;\n\n            if (r && r.code == 0) {\n              self.secureEmailValidShowAlert = true;\n              self.secureEmailValidAlertMessage = "已发送";\n              \n              secureEmailSendCountDown();\n            } else if (r && r.code != 0 && r.data.result == \'expired\') {\n              self.securePhoneValidShowAlert = true;\n              self.securePhoneValidAlertMessage = "发送失败，已过期，请重新获取验证码";\n              \n              window.setTimeout(function () {\n                self.initGuard();\n              }, 500);\n            } else {\n              self.secureEmailValidShowAlert = true;\n              self.secureEmailValidAlertMessage = "发送失败";\n            }\n          },\n          error: function error(err) {\n            console.log(err);\n\n            self.secureEmailSendDisabled = false;\n            \n            self.secureEmailValidShowAlert = true;\n            self.secureEmailValidAlertMessage = "发送失败";\n          }\n        });\n      },\n      secureEmailValid: function secureEmailValid() {\n        var self = this;\n        \n        var url = self.attestServerUrl + \'/api/guard/secureemail/valid\';\n        var postdata = { "gid": self.gid, "code": self.secureEmailCode };\n        \n        $.ajax({\n          type: "POST",\n          url: url,\n          contentType: \'application/json; charset=UTF-8\',\n          data: JSON.stringify(postdata),\n          dataType: "json",\n          success: function success(r) {\n            console.log(url, r);\n\n            if (r && r.code == 0) {\n              var status = r.data.status;\n            \t\n              if (status == 2) {\n                // self.clearSecureEmail();\n\n                window.setTimeout(function () {\n                  submitFm1();\n                }, 500);\n              } else {\n                self.secureEmailValidShowAlert = true;\n                self.secureEmailValidAlertMessage = "验证失败";\n              }\n            }\n          },\n          error: function error(err) {\n            console.log(err);\n          }\n        });\n      },\n\n      clearSecureEmail: function clearSecureEmail() {\n        var self = this;\n\n        window.clearTimeout(self.secureEmailSendTimeout);\n        \n        self.secureEmailSendDisabled = false;\n        self.secureEmailSendText = "获取验证码";\n        self.secureEmailSendSeconds = 60;\n\n        self.secureEmailCode = \'\';\n        self.secureEmailValidShowAlert = false;\n        self.secureEmailValidAlertMessage = "";\n      },\n      \n      qrCodeInit: function qrCodeInit() {\n        var self = this;\n        \n        if (self.qrCode == null || self.qrCode.scanTypes == null || self.qrCode.scanTypes.length == 0) {\n          return;\n        }\n        \n        var scanTypeNames = "";\n        for (var i=0; i<self.qrCode.scanTypes.length; i++) {\n          var scanType = self.qrCode.scanTypes[i];\n          if (scanType == "superapp") {\n            scanTypeNames += "、"+superappName;\n          } else if (scanType == "qq") {\n            scanTypeNames += "、QQ";\n          } else if (scanType == "weixinmp") {\n            scanTypeNames += "、微信";\n          } else if (scanType == "workweixinh5") {\n            scanTypeNames += "、企业微信";\n          } else if (scanType == "dingtalkh5") {\n            scanTypeNames += "、钉钉";\n          }\n        }\n        if (scanTypeNames!="") {\n          scanTypeNames = scanTypeNames.substring(1);\n        }\n        \n        self.qrCodeScanTypeNames = scanTypeNames;\n        \n        self.qrCodeSend();\n      },\n      \n      qrCodeSend: function qrCodeSend() {\n        var self = this;\n\n        var url = self.attestServerUrl + \'/api/guard/qrcode/send\';\n        var postdata = { "gid": self.gid };\n        \n        $.ajax({\n          type: "POST",\n          url: url,\n          contentType: \'application/json; charset=UTF-8\',\n          data: JSON.stringify(postdata),\n          dataType: "json",\n          success: function success(r) {\n            console.log(url, r);\n\n            if (r && r.code == 0 && r.data.scanQrcode) {\n              self.qrCodeStatusShowAlert = false;\n              self.qrCodeStatusAlertMessage = "";\n\n              self.qrCodeScanQrcode = r.data.scanQrcode;\n              self.qrCodeCallbackCode = r.data.callbackCode;\n\n              self.startQrCodeStatus();\n            } else {\n              \n              self.startQrCodeStatus();\n            }\n          },\n          error: function error(err) {\n            console.log(err);\n\n            self.appPushSendDisabled = false;\n          }\n        });\n      },\n      \n      qrCodeRefresh: function qrCodeRefresh() {\n        var self = this;\n        \n        self.clearQrCode();\n        self.initGuard();\n      },\n\n      startQrCodeStatus: function startQrCodeStatus() {\n        var self = this;\n\n        window.clearTimeout(self.appPushStatusTimeout); // 定时\n        \n        /*\n         * status \n         * 0 init 新建、初始化, \n         * 1 sent 已发送、已扫码等, \n         * 2 valid 验证通过, \n         * 3 fail 验证失败, \n         * 5 cancel 取消, \n         * 8 scaned 已扫码\n         * 9 expired 已过期、不存在\n         */\n        function qrCodeStatus() {\n          var url = self.attestServerUrl + \'/api/guard/qrcode/status\';\n          var postdata = { "gid": self.gid };\n          \n          $.ajax({\n            type: "POST",\n            url: url,\n            contentType: \'application/json; charset=UTF-8\',\n            data: JSON.stringify(postdata),\n            dataType: "json",\n            timeout: 1000,\n            success: function success(r) {\n              // console.log(url, r);\n              if (r && r.code == 0) {\n                var status = r.data.status;\n                \n                if (status == 0) {\n                  \n                  self.qrCodeScanSuccess = false;\n                  self.qrCodeStatusShowAlert = false;\n                  self.qrCodeStatusAlertMessage = "";\n                } else if (status == 1) {\n                  \n                  self.qrCodeScanSuccess = false;\n                  self.qrCodeStatusShowAlert = false;\n                  self.qrCodeStatusAlertMessage = "";\n                } else if (status == 2) {\n                  \n                  self.qrCodeScanSuccess = true;\n                  self.qrCodeStatusShowAlert = true;\n                  self.qrCodeStatusAlertMessage = "已确认";\n\n                  window.clearTimeout(self.qrCodeStatusTimeout);\n                  window.setTimeout(function () {\n                    submitFm1();\n                  }, 500);\n                } else if (status == 3) {\n                  \n                  self.qrCodeScanSuccess = false;\n                  self.qrCodeStatusShowAlert = true;\n                  self.qrCodeStatusAlertMessage = "确认失败";\n                  \n                  window.clearTimeout(self.qrCodeStatusTimeout);\n                } else if (status == 5) {\n                  \n                  self.qrCodeScanSuccess = false;\n                  self.qrCodeStatusShowAlert = true;\n                  self.qrCodeStatusAlertMessage = "已拒绝";\n                  \n                  window.clearTimeout(self.qrCodeStatusTimeout);\n                } else if (status == 8) {\n                  \n                  self.qrCodeScanSuccess = true;\n                  self.qrCodeStatusShowAlert = true;\n                  self.qrCodeStatusAlertMessage = "已扫码，等待确认";\n                } else if (status == 9) {\n                  \n                  self.qrCodeScanSuccess = false;\n                  self.qrCodeStatusShowAlert = true;\n                  self.qrCodeStatusAlertMessage = "已失效，请重新发送";\n                  \n                  self.qrCodeCallbackCode = null;\n                  \n                  window.clearTimeout(self.qrCodeStatusTimeout);\n                  \n                  /* window.setTimeout(function () {\n                    self.initGuard();\n                  }, 500); */\n                  \n                }\n                \n              } else {\n                window.clearTimeout(self.qrCodeStatusTimeout);\n              }\n            },\n            error: function error(err) {\n              console.log(err);\n              window.clearTimeout(self.qrCodeStatusTimeout);\n            }\n          });\n          \n          self.qrCodeStatusTimeout = window.setTimeout(qrCodeStatus, 2000);\n        }\n        \n        self.qrCodeStatusTimeout = window.setTimeout(qrCodeStatus, 100);\n      },\n      \n      clearQrCode: function clearQrCode() {\n        var self = this;\n        \n        window.clearTimeout(self.qrCodeStatusTimeout);\n        \n        self.qrCodeScanQrcode = null;\n        self.qrCodeScanSuccess = false;\n        self.qrCodeStatusShowAlert = false;\n        self.qrCodeStatusAlertMessage = "";\n\n        self.qrCodeCallbackCode = null;\n      }\n\n    }\n  });\n  </script>\n\n  <script type="text/javascript">\n\n  function submitFm($form) {\n    $form.find(":submit").click();\n  }\n\n  function submitFm1() {\n    // $("#fm1").submit();\n    $("#fm1").find(":submit").click();\n  }\n  function submitFm2() {\n    // $("#fm2").submit();\n    $("#fm2").find(":submit").click();\n  }\n  \n  </script>\n\n  <script type="text/javascript">\n  function mfaDetect($form) {\n    if (!mfaEnabled) {\n      submitFm($form);\n      return;\n    }\n    \n    var username = $form.find("#username").val();\n    var password = $form.find("#password").val();\n  \n    if (encryptEnabled && password.indexOf(\'__RSA__\') < 0) {\n      var encodedPassword = "__RSA__"+encrypt.encrypt(password);\n      password = encodedPassword;\n    }\n  \n    var url = "\\/cas\\/mfa\\/detect";\n  //  url += "?username=" + username;\n    $.ajax({\n      url: url,\n      type: "POST",\n      dataType: "json",\n      data: "username=" + encodeURIComponent(username)+"&password=" + encodeURIComponent(password),\n      success: function success(r) {\n        console.log(url, r);\n        if (r && r.code == 0) {\n          var state = r.data.state;\n          $form.find(\'[name="mfaState"]\').val(state);\n  \n          var need = r.data.need;\n          if (need == true) {\n            $("#showGuardDialog").click();\n          } else {\n            submitFm($form);\n          }\n        } else {\n          console.log(r);\n        }\n      },\n      error: function error(err) {\n        console.log(err);\n      }\n    });\n  \n  }\n  </script>\n\n  <script type="text/javascript">\n  var i_login = "One moment please...";\n  $( document ).ready(function() {\n\n    var location = self.document.location;\n    var hash = decodeURIComponent(location.hash);\n    \n    if (hash != undefined && hash != \'\' && hash.indexOf(\'#\') === -1) {\n        hash = \'#\' + hash;\n    }\n    \n    var action = location.href;\n\n    /* var action = $(\'#fm1\').attr(\'action\');\n    if (action == undefined) {\n        action = location.href;\n    } else {\n        var qidx = location.href.indexOf(\'?\');\n        if (qidx != -1) {\n            var queryParams = location.href.substring(qidx);\n            action += queryParams;\n        }\n    } */\n    action += hash;\n    \n    $(\'#fm1\').attr(\'action\', action);\n    $(\'#fm2\').attr(\'action\', action);\n    $(\'#fm3\').attr(\'action\', action);\n\n      var usernamePlaceholder = "Enter your Username" + "\\u8BF7\\u8F93\\u5165\\u7528\\u6237\\u540D\\/\\u624B\\u673A\\/\\u90AE\\u7BB1\\/\\u8BC1\\u4EF6\\u53F7";\n      var passwordPlaceholder = "Enter your Password";\n      \n      function buttonClick($form) {\n        var username = $form.find("#username").val();\n        var password = $form.find("#password").val();\n        if (username == null || username == \'\' || username == usernamePlaceholder) {\n          $("#showErrorMessageUsername").click();\n          return false;\n        }\n  \n        if (password == null || password == \'\' || password == passwordPlaceholder) {\n          $("#showErrorMessagePassword").click();\n          return false;\n        }\n  \n        window.setTimeout(function () {\n          mfaDetect($form);\n        }, 500);\n        \n        return false;\n      }\n\n      $("#fm1").find(\'[name="button"]\').click(function(){\n        console.log("submit button click");\n        var $form = $("#fm1");\n\n        var ret = buttonClick($form);\n        return ret;\n      });\n\n      $("#fm1").submit(function () {\n        \n        var $form = $("#fm1");\n        \n        var username = $form.find("#username").val();\n        var password = $form.find("#password").val();\n        if (username == null || username == \'\' || username == usernamePlaceholder) {\n          $("#showErrorMessageUsername").click();\n          return false;\n        }\n\n        if (password == null || password == \'\' || password == passwordPlaceholder) {\n          $("#showErrorMessagePassword").click();\n          return false;\n        }\n        \n        if (mfaEnabled) {\n          var mfaState = $form.find(\'[name="mfaState"]\').val();\n          if (mfaState == null || mfaState == \'\') {\n            mfaDetect($form);\n            return false;\n          }\n        }\n        \n        if (encryptEnabled && password.indexOf(\'__RSA__\') < 0) {\n          // var encodedPassword = "__RSA__"+rsa.encrypt(password);\n          var encodedPassword = "__RSA__"+encrypt.encrypt(password);\n          $form.find("#password").val(encodedPassword);\n        }\n        \n          //$form.find(":submit").attr("disabled", true);\n          $form.find(":submit").attr("value", i_login);\n          //console.log(i_login);\n          return true;\n      });\n\n\n      var mobilePlaceholder = "Enter your Mobile";\n      var dynamiccodePlaceholder = "Enter the Dynamic Code";\n\n      $("#fm2").submit(function () {\n\n        var $form = $("#fm2");\n\n        var username = $form.find("#username").val();\n        var password = $form.find("#password").val();\n        if (username == null || username == \'\' || username == mobilePlaceholder) {\n          $("#showErrorMessageMobile").click();\n          return false;\n        }\n\n        if (password == null || password == \'\' || password == dynamiccodePlaceholder) {\n          $("#showErrorMessageDynamicCode").click();\n          return false;\n        }\n        \n          //$form.find(":submit").attr("disabled", true);\n          $form.find(":submit").attr("value", i_login);\n          //console.log(i_login);\n          return true;\n      });\n      \n  });\n  </script>\n\n  <script type="text/javascript">\n  function refreshCaptcha() {\n    $("#captcha_img").attr("src", "\\/cas\\/captcha.jpg"+"?r=" + new Date() + Math.floor(Math.random()*24));\n    $("#captcha").val("");\n    $("#captcha").focus();\n  }\n  function togglePassword(obj) {\n    var $obj = $(obj);\n    \n    var $password = $(obj).parents(\'.sw-input\').find("#password");\n    \n    if ($password.attr(\'type\') == \'password\') {\n      $password.attr(\'type\', \'text\');\n      $obj.removeClass(\'su-icon-hide\').addClass(\'su-icon-display\');\n    } else {\n      $password.attr(\'type\', \'password\');\n      $obj.removeClass(\'su-icon-display\').addClass(\'su-icon-hide\');\n    }\n  }\n  </script>\n\n  <script type="text/javascript">\n  var i_sendToken = "Send"\n  var i_sending = "Sending..."\n  var i_send = "Sended"\n  var disableSendToken = false;\n      function sendToken(obj) {\n        if (disableSendToken) {\n          return;\n        }\n        \n        var username = $("#fm2").find("#username").val();\n        if (username == "") {\n          $("#showErrorMessageMobile").click();\n          return;\n        }\n        \n        var sendButton = $(obj);\n        \n        disableSendToken = true;\n        sendButton.attr("disabled", true);\n        sendButton.find(\'span\').text(i_sending);\n        \n        var time = 60;\n        var setSended = function() {\n          sendButton.find(\'span\').text(i_send + \'(\'+time+\')\');\n          \n          time --;\n          if (time > 0) {\n            setTimeout(setSended, 1000);\n          } else {\n            disableSendToken = false;\n            sendButton.attr("disabled", false);\n            sendButton.find(\'span\').text(i_sendToken);\n          }\n          \n        }\n        \n        $.ajax({\n          url: "\\/cas\\/passwordlessTokenSend",\n          type: "POST",\n          data: {"username": username},\n          dataType: "json",\n          success: function(r) {\n            console.log(r);\n            \n            if (r.data.success) {\n              // 提示信息\n              // alert(r.data.success);\n              $("#showSuccessMessageSendCode").click();\n              // 倒计时 60s\n              time = 60;\n              setSended();\n            }\n            \n            if (r.data.error) {\n              //alert(r.data.error);\n              $("#showFailureMessageSendCode").click();\n              time = 0;\n              setSended();\n            }\n          }\n        });\n        \n      }\n  </script>\n\n  <script type="text/javascript">\n      function forgotYourPassword() {\n        window.location.href="\\/cas\\/personal\\/forgotYourPassword";\n      }\n  </script>\n\n  <script type="text/javascript">\n      function activeYourAccount() {\n        window.location.href="\\/cas\\/personal\\/activeYourAccount";\n      }\n  </script>\n  \n  <script type="text/javascript">\n  function showError(container, originalUsername, hasErrors, errors) {\n//    console.log(container);\n//    console.log(originalUsername);\n//    console.log(hasErrors);\n//    console.log(errors);\n    \n    if (originalUsername == null && !hasErrors) {\n      // localStorage.errorTimes = "";\n    }\n    \n    var errorTimes = (localStorage.errorTimes || "").split(\',\');\n    if (errorTimes == null) {\n      errorTimes = new Array();\n    }\n//    console.log(errorTimes);\n    \n    var nowTimestamp = new Date().getTime();\n    if (hasErrors) {\n      errorTimes.unshift(originalUsername+"::"+nowTimestamp);\n      \n      localStorage.errorTimes = errorTimes.join(\',\');\n    }\n\n    var errorCount = 0;\n\n    var maxErrorCount = 5;\n    for (var i=0; i<100; i++) {\n      if (i >= errorTimes.length) {\n        break;\n      }\n      \n      var errorTimesInfo = errorTimes[i];\n      if (errorTimesInfo != "") {\n        var errorUsername = errorTimesInfo.split("::")[0];\n        var errorTimestamp = errorTimesInfo.split("::")[1];\n        if (errorUsername == originalUsername && errorTimestamp > nowTimestamp - 300000) {\n          errorCount ++;\n        }\n      }\n      \n      if (errorCount >= maxErrorCount) {\n        break\n      }\n    }\n    console.log(errorCount);\n    \n    var errorsInfo = errors.join("");\n    container.find("span.el-alert__title").text(errorsInfo);\n    \n    if (errorCount == 1) {\n      \n    } else if (errorCount == 2) {\n      container.find("span.el-alert__title").append("剩余3次锁定。");\n    } else if (errorCount == 3) {\n      container.find("span.el-alert__title").append("剩余2次锁定。");\n    } else if (errorCount == 4) {\n      container.find("span.el-alert__title").append("剩余1次锁定。");\n    } else if (errorCount == 5) {\n      container.find("span.el-alert__title").text("账号已暂时锁定，请稍后再试。");\n    } else {\n      \n    }\n  }\n  </script>\n  \n  <script type="text/javascript">\n  $( document ).ready(function() {\n    $("#vue_main").show();\n  });\n  </script>\n\n<!--[if IE 9]><script type="text/javascript" charset="utf-8" src="/cas/deps/js/placeholder/placeholder.js"></script><![endif]--></div>\n</main>\n\n\n\n\n</body>\n</html>\n'\\/cas\\/qr\\/qrcode"+"?r=" +(new Date()).getTime()+ Math.floor(Math.random()*24);\n          this.qrcodeShow = true;\n          \n          window.setTimeout(self.startQrComet, 1000); */\n        } else {\n          this.qrcodeImgUrl = "";\n          this.qrcodeShow = false;\n\n          window.clearTimeout(self.qrcodeTimeout);\n        }\n      },\n      qrInit: function qrInit() {\n        var self = this;\n        \n        var url = "\\/cas\\/qr\\/init";\n        $.ajax({\n          url: url,\n          type: "GET",\n          dataType: "json",\n          timeout: 1000,\n          success: function success(r) {\n            self.qrcodeImgUrl = "\\/cas\\/qr\\/qrcode"+"?r=" +(new Date()).getTime()+ Math.floor(Math.random()*24);\n            self.qrcodeShow = true;\n            \n            window.setTimeout(self.startQrComet, 1000);\n          }\n        });\n      },\n      startQrComet: function startQrComet() {\n        var self = this;\n        window.clearTimeout(self.qrcodeTimeout); // 开启定时\n\n        function qrComet() {\n          var url = "\\/cas\\/qr\\/comet";\n          $.ajax({\n            url: url,\n            type: "POST",\n            dataType: "json",\n            timeout: 1000,\n            success: function success(r) {\n              // console.log(r);\n              if (r && r.code == 0) {\n                self.isQrcodeExpired = false;\n                var stateKey = r.data.stateKey;\n                var qrCode = r.data.qrCode;\n\n                if (qrCode.status == "1") {\n                  // 1 创建、未扫码\n                  self.isQrcodeAlert = false;\n                  self.qrcodeAlertMessage = "";\n                  self.stateKey = "";\n                } else if (qrCode.status == "2") {\n                  // 2 已扫码\n                  self.isQrcodeAlert = true;\n                  self.qrcodeAlertMessage = "扫码成功";\n                  self.stateKey = "";\n                } else if (qrCode.status == "3") {\n                  // 3 已授权\n                  self.isQrcodeAlert = true;\n                  self.qrcodeAlertMessage = "确认登录";\n                  self.stateKey = stateKey;\n                  window.clearTimeout(self.qrcodeTimeout);\n                  window.setTimeout(function () {\n                    $("#fm3").submit();\n                  }, 500);\n                } else if (qrCode.status == "4") {\n                  // 4 已取消\n                  self.isQrcodeAlert = true;\n                  self.qrcodeAlertMessage = "取消登录";\n                  self.stateKey = "";\n                  window.clearTimeout(self.qrcodeTimeout);\n                }\n              } else if (r && r.code == 1) {\n                self.isQrcodeAlert = true;\n                self.qrcodeAlertMessage = "二维码已失效";\n                self.stateKey = "";\n                window.clearTimeout(self.qrcodeTimeout);\n              } else {\n                self.isQrcodeAlert = true;\n                self.qrcodeAlertMessage = "出现异常";\n                self.stateKey = "";\n                window.clearTimeout(self.qrcodeTimeout);\n              }\n            }\n          });\n          self.qrcodeTimeout = window.setTimeout(qrComet, 2000);\n        }\n\n        self.qrcodeTimeout = window.setTimeout(qrComet, 2000);\n      },\n      refreshQrCode: function refreshQrCode() {\n        var self = this;\n        self.isQrcodeAlert = false;\n        self.qrcodeAlertMessage = "";\n        self.stateKey = "";\n        \n        this.qrInit();\n        /* this.qrcodeImgUrl = "\\/cas\\/qr\\/qrcode"+"?r=" +(new Date()).getTime()+ Math.floor(Math.random()*24);\n        this.qrcodeShow = true;\n        \n        window.setTimeout(self.startQrComet, 1000); */\n      },\n\n\n      showGuardDialog: function showGuardDialog() {\n        var self = this;\n        this.clearAppPushStatus();\n        this.clearSecurePhone();\n        this.clearSecureEmail();\n        this.clearQrCode();\n        \n        this.typeIndex = defaultTypeIndex;\n        this.guardDialogVisible = true;\n        \n        this.changeGuard(defaultTypeIndex);\n      },\n      hideGuardDialog: function hideGuardDialog() {\n        $("#fm1").find(\'[name="mfaState"]\').val(\'\');\n\n        var self = this;\n        this.clearAppPushStatus();\n        this.clearSecurePhone();\n        this.clearSecureEmail();\n        this.clearQrCode();\n\n        this.typeIndex = defaultTypeIndex;\n        this.guardDialogVisible = false;\n      },\n      \n      changeGuard: function changeGuard(index) {\n        var self = this;\n        this.clearAppPushStatus();\n        this.clearSecurePhone();\n        this.clearSecureEmail();\n        this.clearQrCode();\n\n        this.typeIndex = index;\n        \n        this.initGuard();\n      },\n      \n      initGuard: function initGuard() {\n        var self = this;\n        \n        var type = this.typeInfo[this.typeIndex].type;\n        var state = $("#fm1").find(\'[name="mfaState"]\').val();\n        \n        var url = "\\/cas\\/mfa\\/initByType"+"/"+type;\n        url += "?state=" + state;\n        $.ajax({\n          type: "GET",\n          url: url,\n          dataType: "json",\n          success: function success(r) {\n            console.log(url, r);\n            if (r && r.code == 0) {\n              self.securePhone = r.data.securePhone;\n              self.secureEmail = r.data.secureEmail;\n              \n              self.qrCode = r.data.qrCode;\n              \n              self.attestServerUrl = r.data.attestServerUrl;\n              self.gid = r.data.gid;\n              \n              self.qrCodeInit();\n            } else {\n              self.securePhone = null;\n              self.secureEmail = null;\n              \n              self.qrCode = null;\n\n              self.attestServerUrl = null;\n              self.gid = null;\n            }\n          },\n          error: function error(err) {\n            self.securePhone = null;\n            self.secureEmail = null;\n            \n            self.qrCode = null\n\n            self.attestServerUrl = null;\n            self.gid = null;\n          }\n        });\n      },\n      \n      appPushSend: function appPushSend() {\n        var self = this;\n\n        function appPushSendCountDown() {\n          self.appPushSendSeconds --;\n          \n          self.appPushSendDisabled = true;\n          self.appPushSendText = "点击发送验证请求" + "("+self.appPushSendSeconds+")";\n          \n          self.appPushSendTimeout = window.setTimeout(appPushSendCountDown, 1000);\n          \n          if (self.appPushSendSeconds <= 0) {\n            window.clearTimeout(self.appPushSendTimeout);\n            \n            self.appPushSendDisabled = false;\n            self.appPushSendText = "点击发送验证请求";\n            self.appPushSendSeconds = 30;\n          }\n        }\n\n        self.appPushSendDisabled = true;\n\n        var url = self.attestServerUrl + \'/api/guard/apppush/send\';\n        var postdata = { "gid": self.gid };\n        \n        $.ajax({\n          type: "POST",\n          url: url,\n          contentType: \'application/json; charset=UTF-8\',\n          data: JSON.stringify(postdata),\n          dataType: "json",\n          success: function success(r) {\n            console.log(url, r);\n\n            self.appPushSendDisabled = false;\n\n            if (r && r.code == 0 && r.data.callbackCode) {\n              self.appPushStatusShowAlert = false;\n              self.appPushStatusAlertMessage = "";\n\n              self.appPushCallbackCode = r.data.callbackCode;\n\n              self.startAppPushStatus();\n              \n              appPushSendCountDown();\n            } else {\n              \n              self.startAppPushStatus();\n            }\n          },\n          error: function error(err) {\n            console.log(err);\n\n            self.appPushSendDisabled = false;\n          }\n        });\n      },\n      startAppPushStatus: function startAppPushStatus() {\n        var self = this;\n\n        window.clearTimeout(self.appPushStatusTimeout); // 定时\n        \n        /*\n         * status \n         * 0 init 新建、初始化, \n         * 1 sent 已发送、已扫码等, \n         * 2 valid 验证通过, \n         * 3 fail 验证失败, \n         * 5 cancel 取消, \n         * 9 expired 已过期、不存在\n         */\n        function appPushStatus() {\n          var url = self.attestServerUrl + \'/api/guard/apppush/status\';\n          var postdata = { "gid": self.gid };\n          \n          $.ajax({\n            type: "POST",\n            url: url,\n            contentType: \'application/json; charset=UTF-8\',\n            data: JSON.stringify(postdata),\n            dataType: "json",\n            timeout: 1000,\n            success: function success(r) {\n              // console.log(url, r);\n              if (r && r.code == 0) {\n                var status = r.data.status;\n                \n                if (status == 0) {\n                  \n                  self.appPushStatusShowAlert = false;\n                  self.appPushStatusAlertMessage = "";\n                } else if (status == 1) {\n                  \n                  self.appPushStatusShowAlert = true;\n                  self.appPushStatusAlertMessage = "等待确认";\n                } else if (status == 2) {\n                  \n                  self.appPushStatusShowAlert = true;\n                  self.appPushStatusAlertMessage = "已确认";\n\n                  window.clearTimeout(self.appPushStatusTimeout);\n                  window.setTimeout(function () {\n                    submitFm1();\n                  }, 500);\n                } else if (status == 3) {\n                  \n                  self.appPushStatusShowAlert = true;\n                  self.appPushStatusAlertMessage = "确认失败";\n                  \n                  window.clearTimeout(self.appPushStatusTimeout);\n                } else if (status == 5) {\n                  \n                  self.appPushStatusShowAlert = true;\n                  self.appPushStatusAlertMessage = "已取消";\n                  \n                  window.clearTimeout(self.appPushStatusTimeout);\n                } else if (status == 9) {\n                  \n                  self.appPushStatusShowAlert = true;\n                  self.appPushStatusAlertMessage = "已失效，请重新发送";\n                  \n                  self.appPushCallbackCode = null;\n                  \n                  window.clearTimeout(self.appPushStatusTimeout);\n                  \n                  window.setTimeout(function () {\n                    self.initGuard();\n                  }, 500);\n                  \n                }\n                \n              } else {\n                window.clearTimeout(self.appPushStatusTimeout);\n              }\n            },\n            error: function error(err) {\n              console.log(err);\n              window.clearTimeout(self.appPushStatusTimeout);\n            }\n          });\n          \n          self.appPushStatusTimeout = window.setTimeout(appPushStatus, 2000);\n        }\n        \n        self.appPushStatusTimeout = window.setTimeout(appPushStatus, 100);\n      },\n      \n      clearAppPushStatus: function clearAppPushStatus() {\n        var self = this;\n\n        window.clearTimeout(self.appPushSendTimeout);\n        \n        self.appPushSendDisabled = false;\n        self.appPushSendText = "点击发送验证请求";\n        self.appPushSendSeconds = 30;\n\n        window.clearTimeout(self.appPushStatusTimeout);\n        self.appPushStatusShowAlert = false;\n        self.appPushStatusAlertMessage = "";\n        \n        self.appPushCallbackCode = null;\n      },\n      \n      \n      securePhoneSend: function securePhoneSend() {\n        var self = this;\n        \n        function securePhoneSendCountDown() {\n          self.securePhoneSendSeconds --;\n          \n          self.securePhoneSendDisabled = true;\n          self.securePhoneSendText = "获取验证码" + "("+self.securePhoneSendSeconds+")";\n          \n          self.securePhoneSendTimeout = window.setTimeout(securePhoneSendCountDown, 1000);\n          \n          if (self.securePhoneSendSeconds <= 0) {\n            window.clearTimeout(self.securePhoneSendTimeout);\n            \n            self.securePhoneSendDisabled = false;\n            self.securePhoneSendText = "获取验证码";\n            self.securePhoneSendSeconds = 60;\n          }\n        }\n\n        self.securePhoneSendDisabled = true;\n\n        var url = self.attestServerUrl + \'/api/guard/securephone/send\';\n        var postdata = { "gid": self.gid };\n        \n        $.ajax({\n          type: "POST",\n          url: url,\n          contentType: \'application/json; charset=UTF-8\',\n          data: JSON.stringify(postdata),\n          dataType: "json",\n          success: function success(r) {\n            console.log(url, r);\n\n            self.securePhoneSendDisabled = false;\n\n            if (r && r.code == 0) {\n              self.securePhoneValidShowAlert = true;\n              self.securePhoneValidAlertMessage = "已发送";\n              \n              securePhoneSendCountDown();\n            } else if (r && r.code != 0 && r.data.result == \'expired\') {\n              self.securePhoneValidShowAlert = true;\n              self.securePhoneValidAlertMessage = "发送失败，已过期，请重新获取验证码";\n              \n              window.setTimeout(function () {\n                self.initGuard();\n              }, 500);\n            } else {\n              self.securePhoneValidShowAlert = true;\n              self.securePhoneValidAlertMessage = "发送失败";\n            }\n          },\n          error: function error(err) {\n            console.log(err);\n\n            self.securePhoneSendDisabled = false;\n\n            self.securePhoneValidShowAlert = true;\n            self.securePhoneValidAlertMessage = "发送失败";\n          }\n        });\n      },\n      securePhoneValid: function securePhoneValid() {\n        var self = this;\n        \n        var url = self.attestServerUrl + \'/api/guard/securephone/valid\';\n        var postdata = { "gid": self.gid, "code": self.securePhoneCode };\n        \n        $.ajax({\n          type: "POST",\n          url: url,\n          contentType: \'application/json; charset=UTF-8\',\n          data: JSON.stringify(postdata),\n          dataType: "json",\n          success: function success(r) {\n            console.log(url, r);\n            \n            if (r && r.code == 0) {\n              var status = r.data.status;\n            \t\n              if (status == 2) {\n                // self.clearSecurePhone();\n\n                window.setTimeout(function () {\n                  submitFm1();\n                }, 500);\n              } else {\n                self.securePhoneValidShowAlert = true;\n                self.securePhoneValidAlertMessage = "验证失败";\n              }\n            }\n\n          },\n          error: function error(err) {\n            console.log(err);\n          }\n        });\n      },\n\n      clearSecurePhone: function clearSecurePhone() {\n        var self = this;\n        \n        window.clearTimeout(self.securePhoneSendTimeout);\n        \n        self.securePhoneSendDisabled = false;\n        self.securePhoneSendText = "获取验证码";\n        self.securePhoneSendSeconds = 60;\n\n        self.securePhoneCode = \'\';\n        self.securePhoneValidShowAlert = false;\n        self.securePhoneValidAlertMessage = "";\n      },\n\n\n      secureEmailSend: function secureEmailSend() {\n        var self = this;\n        \n        function secureEmailSendCountDown() {\n          self.secureEmailSendSeconds --;\n          \n          self.secureEmailSendDisabled = true;\n          self.secureEmailSendText = "获取验证码" + "("+self.secureEmailSendSeconds+")";\n          \n          self.secureEmailSendTimeout = window.setTimeout(secureEmailSendCountDown, 1000);\n          \n          if (self.secureEmailSendSeconds <= 0) {\n            window.clearTimeout(self.secureEmailSendTimeout);\n            \n            self.secureEmailSendDisabled = false;\n            self.secureEmailSendText = "获取验证码";\n            self.secureEmailSendSeconds = 60;\n          }\n        }\n        \n        self.secureEmailSendDisabled = true;\n\n        var url = self.attestServerUrl + \'/api/guard/secureemail/send\';\n        var postdata = { "gid": self.gid };\n        \n        $.ajax({\n          type: "POST",\n          url: url,\n          contentType: \'application/json; charset=UTF-8\',\n          data: JSON.stringify(postdata),\n          dataType: "json",\n          success: function success(r) {\n            console.log(url, r);\n\n            self.secureEmailSendDisabled = false;\n\n            if (r && r.code == 0) {\n              self.secureEmailValidShowAlert = true;\n              self.secureEmailValidAlertMessage = "已发送";\n              \n              secureEmailSendCountDown();\n            } else if (r && r.code != 0 && r.data.result == \'expired\') {\n              self.securePhoneValidShowAlert = true;\n              self.securePhoneValidAlertMessage = "发送失败，已过期，请重新获取验证码";\n              \n              window.setTimeout(function () {\n                self.initGuard();\n              }, 500);\n            } else {\n              self.secureEmailValidShowAlert = true;\n              self.secureEmailValidAlertMessage = "发送失败";\n            }\n          },\n          error: function error(err) {\n            console.log(err);\n\n            self.secureEmailSendDisabled = false;\n            \n            self.secureEmailValidShowAlert = true;\n            self.secureEmailValidAlertMessage = "发送失败";\n          }\n        });\n      },\n      secureEmailValid: function secureEmailValid() {\n        var self = this;\n        \n        var url = self.attestServerUrl + \'/api/guard/secureemail/valid\';\n        var postdata = { "gid": self.gid, "code": self.secureEmailCode };\n        \n        $.ajax({\n          type: "POST",\n          url: url,\n          contentType: \'application/json; charset=UTF-8\',\n          data: JSON.stringify(postdata),\n          dataType: "json",\n          success: function success(r) {\n            console.log(url, r);\n\n            if (r && r.code == 0) {\n              var status = r.data.status;\n            \t\n              if (status == 2) {\n                // self.clearSecureEmail();\n\n                window.setTimeout(function () {\n                  submitFm1();\n                }, 500);\n              } else {\n                self.secureEmailValidShowAlert = true;\n                self.secureEmailValidAlertMessage = "验证失败";\n              }\n            }\n          },\n          error: function error(err) {\n            console.log(err);\n          }\n        });\n      },\n\n      clearSecureEmail: function clearSecureEmail() {\n        var self = this;\n\n        window.clearTimeout(self.secureEmailSendTimeout);\n        \n        self.secureEmailSendDisabled = false;\n        self.secureEmailSendText = "获取验证码";\n        self.secureEmailSendSeconds = 60;\n\n        self.secureEmailCode = \'\';\n        self.secureEmailValidShowAlert = false;\n        self.secureEmailValidAlertMessage = "";\n      },\n      \n      qrCodeInit: function qrCodeInit() {\n        var self = this;\n        \n        if (self.qrCode == null || self.qrCode.scanTypes == null || self.qrCode.scanTypes.length == 0) {\n          return;\n        }\n        \n        var scanTypeNames = "";\n        for (var i=0; i<self.qrCode.scanTypes.length; i++) {\n          var scanType = self.qrCode.scanTypes[i];\n          if (scanType == "superapp") {\n            scanTypeNames += "、"+superappName;\n          } else if (scanType == "qq") {\n            scanTypeNames += "、QQ";\n          } else if (scanType == "weixinmp") {\n            scanTypeNames += "、微信";\n          } else if (scanType == "workweixinh5") {\n            scanTypeNames += "、企业微信";\n          } else if (scanType == "dingtalkh5") {\n            scanTypeNames += "、钉钉";\n          }\n        }\n        if (scanTypeNames!="") {\n          scanTypeNames = scanTypeNames.substring(1);\n        }\n        \n        self.qrCodeScanTypeNames = scanTypeNames;\n        \n        self.qrCodeSend();\n      },\n      \n      qrCodeSend: function qrCodeSend() {\n        var self = this;\n\n        var url = self.attestServerUrl + \'/api/guard/qrcode/send\';\n        var postdata = { "gid": self.gid };\n        \n        $.ajax({\n          type: "POST",\n          url: url,\n          contentType: \'application/json; charset=UTF-8\',\n          data: JSON.stringify(postdata),\n          dataType: "json",\n          success: function success(r) {\n            console.log(url, r);\n\n            if (r && r.code == 0 && r.data.scanQrcode) {\n              self.qrCodeStatusShowAlert = false;\n              self.qrCodeStatusAlertMessage = "";\n\n              self.qrCodeScanQrcode = r.data.scanQrcode;\n              self.qrCodeCallbackCode = r.data.callbackCode;\n\n              self.startQrCodeStatus();\n            } else {\n              \n              self.startQrCodeStatus();\n            }\n          },\n          error: function error(err) {\n            console.log(err);\n\n            self.appPushSendDisabled = false;\n          }\n        });\n      },\n      \n      qrCodeRefresh: function qrCodeRefresh() {\n        var self = this;\n        \n        self.clearQrCode();\n        self.initGuard();\n      },\n\n      startQrCodeStatus: function startQrCodeStatus() {\n        var self = this;\n\n        window.clearTimeout(self.appPushStatusTimeout); // 定时\n        \n        /*\n         * status \n         * 0 init 新建、初始化, \n         * 1 sent 已发送、已扫码等, \n         * 2 valid 验证通过, \n         * 3 fail 验证失败, \n         * 5 cancel 取消, \n         * 8 scaned 已扫码\n         * 9 expired 已过期、不存在\n         */\n        function qrCodeStatus() {\n          var url = self.attestServerUrl + \'/api/guard/qrcode/status\';\n          var postdata = { "gid": self.gid };\n          \n          $.ajax({\n            type: "POST",\n            url: url,\n            contentType: \'application/json; charset=UTF-8\',\n            data: JSON.stringify(postdata),\n            dataType: "json",\n            timeout: 1000,\n            success: function success(r) {\n              // console.log(url, r);\n              if (r && r.code == 0) {\n                var status = r.data.status;\n                \n                if (status == 0) {\n                  \n                  self.qrCodeScanSuccess = false;\n                  self.qrCodeStatusShowAlert = false;\n                  self.qrCodeStatusAlertMessage = "";\n                } else if (status == 1) {\n                  \n                  self.qrCodeScanSuccess = false;\n                  self.qrCodeStatusShowAlert = false;\n                  self.qrCodeStatusAlertMessage = "";\n                } else if (status == 2) {\n                  \n                  self.qrCodeScanSuccess = true;\n                  self.qrCodeStatusShowAlert = true;\n                  self.qrCodeStatusAlertMessage = "已确认";\n\n                  window.clearTimeout(self.qrCodeStatusTimeout);\n                  window.setTimeout(function () {\n                    submitFm1();\n                  }, 500);\n                } else if (status == 3) {\n                  \n                  self.qrCodeScanSuccess = false;\n                  self.qrCodeStatusShowAlert = true;\n                  self.qrCodeStatusAlertMessage = "确认失败";\n                  \n                  window.clearTimeout(self.qrCodeStatusTimeout);\n                } else if (status == 5) {\n                  \n                  self.qrCodeScanSuccess = false;\n                  self.qrCodeStatusShowAlert = true;\n                  self.qrCodeStatusAlertMessage = "已拒绝";\n                  \n                  window.clearTimeout(self.qrCodeStatusTimeout);\n                } else if (status == 8) {\n                  \n                  self.qrCodeScanSuccess = true;\n                  self.qrCodeStatusShowAlert = true;\n                  self.qrCodeStatusAlertMessage = "已扫码，等待确认";\n                } else if (status == 9) {\n                  \n                  self.qrCodeScanSuccess = false;\n                  self.qrCodeStatusShowAlert = true;\n                  self.qrCodeStatusAlertMessage = "已失效，请重新发送";\n                  \n                  self.qrCodeCallbackCode = null;\n                  \n                  window.clearTimeout(self.qrCodeStatusTimeout);\n                  \n                  /* window.setTimeout(function () {\n                    self.initGuard();\n                  }, 500); */\n                  \n                }\n                \n              } else {\n                window.clearTimeout(self.qrCodeStatusTimeout);\n              }\n            },\n            error: function error(err) {\n              console.log(err);\n              window.clearTimeout(self.qrCodeStatusTimeout);\n            }\n          });\n          \n          self.qrCodeStatusTimeout = window.setTimeout(qrCodeStatus, 2000);\n        }\n        \n        self.qrCodeStatusTimeout = window.setTimeout(qrCodeStatus, 100);\n      },\n      \n      clearQrCode: function clearQrCode() {\n        var self = this;\n        \n        window.clearTimeout(self.qrCodeStatusTimeout);\n        \n        self.qrCodeScanQrcode = null;\n        self.qrCodeScanSuccess = false;\n        self.qrCodeStatusShowAlert = false;\n        self.qrCodeStatusAlertMessage = "";\n\n        self.qrCodeCallbackCode = null;\n      }\n\n    }\n  });\n  </script>\n\n  <script type="text/javascript">\n\n  function submitFm($form) {\n    $form.find(":submit").click();\n  }\n\n  function submitFm1() {\n    // $("#fm1").submit();\n    $("#fm1").find(":submit").click();\n  }\n  function submitFm2() {\n    // $("#fm2").submit();\n    $("#fm2").find(":submit").click();\n  }\n  \n  </script>\n\n  <script type="text/javascript">\n  function mfaDetect($form) {\n    if (!mfaEnabled) {\n      submitFm($form);\n      return;\n    }\n    \n    var username = $form.find("#username").val();\n    var password = $form.find("#password").val();\n  \n    if (encryptEnabled && password.indexOf(\'__RSA__\') < 0) {\n      var encodedPassword = "__RSA__"+encrypt.encrypt(password);\n      password = encodedPassword;\n    }\n  \n    var url = "\\/cas\\/mfa\\/detect";\n  //  url += "?username=" + username;\n    $.ajax({\n      url: url,\n      type: "POST",\n      dataType: "json",\n      data: "username=" + encodeURIComponent(username)+"&password=" + encodeURIComponent(password),\n      success: function success(r) {\n        console.log(url, r);\n        if (r && r.code == 0) {\n          var state = r.data.state;\n          $form.find(\'[name="mfaState"]\').val(state);\n  \n          var need = r.data.need;\n          if (need == true) {\n            $("#showGuardDialog").click();\n          } else {\n            submitFm($form);\n          }\n        } else {\n          console.log(r);\n        }\n      },\n      error: function error(err) {\n        console.log(err);\n      }\n    });\n  \n  }\n  </script>\n\n  <script type="text/javascript">\n  var i_login = "One moment please...";\n  $( document ).ready(function() {\n\n    var location = self.document.location;\n    var hash = decodeURIComponent(location.hash);\n    \n    if (hash != undefined && hash != \'\' && hash.indexOf(\'#\') === -1) {\n        hash = \'#\' + hash;\n    }\n    \n    var action = location.href;\n\n    /* var action = $(\'#fm1\').attr(\'action\');\n    if (action == undefined) {\n        action = location.href;\n    } else {\n        var qidx = location.href.indexOf(\'?\');\n        if (qidx != -1) {\n            var queryParams = location.href.substring(qidx);\n            action += queryParams;\n        }\n    } */\n    action += hash;\n    \n    $(\'#fm1\').attr(\'action\', action);\n    $(\'#fm2\').attr(\'action\', action);\n    $(\'#fm3\').attr(\'action\', action);\n\n      var usernamePlaceholder = "Enter your Username" + "\\u8BF7\\u8F93\\u5165\\u7528\\u6237\\u540D\\/\\u624B\\u673A\\/\\u90AE\\u7BB1\\/\\u8BC1\\u4EF6\\u53F7";\n      var passwordPlaceholder = "Enter your Password";\n      \n      function buttonClick($form) {\n        var username = $form.find("#username").val();\n        var password = $form.find("#password").val();\n        if (username == null || username == \'\' || username == usernamePlaceholder) {\n          $("#showErrorMessageUsername").click();\n          return false;\n        }\n  \n        if (password == null || password == \'\' || password == passwordPlaceholder) {\n          $("#showErrorMessagePassword").click();\n          return false;\n        }\n  \n        window.setTimeout(function () {\n          mfaDetect($form);\n        }, 500);\n        \n        return false;\n      }\n\n      $("#fm1").find(\'[name="button"]\').click(function(){\n        console.log("submit button click");\n        var $form = $("#fm1");\n\n        var ret = buttonClick($form);\n        return ret;\n      });\n\n      $("#fm1").submit(function () {\n        \n        var $form = $("#fm1");\n        \n        var username = $form.find("#username").val();\n        var password = $form.find("#password").val();\n        if (username == null || username == \'\' || username == usernamePlaceholder) {\n          $("#showErrorMessageUsername").click();\n          return false;\n        }\n\n        if (password == null || password == \'\' || password == passwordPlaceholder) {\n          $("#showErrorMessagePassword").click();\n          return false;\n        }\n        \n        if (mfaEnabled) {\n          var mfaState = $form.find(\'[name="mfaState"]\').val();\n          if (mfaState == null || mfaState == \'\') {\n            mfaDetect($form);\n            return false;\n          }\n        }\n        \n        if (encryptEnabled && password.indexOf(\'__RSA__\') < 0) {\n          // var encodedPassword = "__RSA__"+rsa.encrypt(password);\n          var encodedPassword = "__RSA__"+encrypt.encrypt(password);\n          $form.find("#password").val(encodedPassword);\n        }\n        \n          //$form.find(":submit").attr("disabled", true);\n          $form.find(":submit").attr("value", i_login);\n          //console.log(i_login);\n          return true;\n      });\n\n\n      var mobilePlaceholder = "Enter your Mobile";\n      var dynamiccodePlaceholder = "Enter the Dynamic Code";\n\n      $("#fm2").submit(function () {\n\n        var $form = $("#fm2");\n\n        var username = $form.find("#username").val();\n        var password = $form.find("#password").val();\n        if (username == null || username == \'\' || username == mobilePlaceholder) {\n          $("#showErrorMessageMobile").click();\n          return false;\n        }\n\n        if (password == null || password == \'\' || password == dynamiccodePlaceholder) {\n          $("#showErrorMessageDynamicCode").click();\n          return false;\n        }\n        \n          //$form.find(":submit").attr("disabled", true);\n          $form.find(":submit").attr("value", i_login);\n          //console.log(i_login);\n          return true;\n      });\n      \n  });\n  </script>\n\n  <script type="text/javascript">\n  function refreshCaptcha() {\n    $("#captcha_img").attr("src", "\\/cas\\/captcha.jpg"+"?r=" + new Date() + Math.floor(Math.random()*24));\n    $("#captcha").val("");\n    $("#captcha").focus();\n  }\n  function togglePassword(obj) {\n    var $obj = $(obj);\n    \n    var $password = $(obj).parents(\'.sw-input\').find("#password");\n    \n    if ($password.attr(\'type\') == \'password\') {\n      $password.attr(\'type\', \'text\');\n      $obj.removeClass(\'su-icon-hide\').addClass(\'su-icon-display\');\n    } else {\n      $password.attr(\'type\', \'password\');\n      $obj.removeClass(\'su-icon-display\').addClass(\'su-icon-hide\');\n    }\n  }\n  </script>\n\n  <script type="text/javascript">\n  var i_sendToken = "Send"\n  var i_sending = "Sending..."\n  var i_send = "Sended"\n  var disableSendToken = false;\n      function sendToken(obj) {\n        if (disableSendToken) {\n          return;\n        }\n        \n        var username = $("#fm2").find("#username").val();\n        if (username == "") {\n          $("#showErrorMessageMobile").click();\n          return;\n        }\n        \n        var sendButton = $(obj);\n        \n        disableSendToken = true;\n        sendButton.attr("disabled", true);\n        sendButton.find(\'span\').text(i_sending);\n        \n        var time = 60;\n        var setSended = function() {\n          sendButton.find(\'span\').text(i_send + \'(\'+time+\')\');\n          \n          time --;\n          if (time > 0) {\n            setTimeout(setSended, 1000);\n          } else {\n            disableSendToken = false;\n            sendButton.attr("disabled", false);\n            sendButton.find(\'span\').text(i_sendToken);\n          }\n          \n        }\n        \n        $.ajax({\n          url: "\\/cas\\/passwordlessTokenSend",\n          type: "POST",\n          data: {"username": username},\n          dataType: "json",\n          success: function(r) {\n            console.log(r);\n            \n            if (r.data.success) {\n              // 提示信息\n              // alert(r.data.success);\n              $("#showSuccessMessageSendCode").click();\n              // 倒计时 60s\n              time = 60;\n              setSended();\n            }\n            \n            if (r.data.error) {\n              //alert(r.data.error);\n              $("#showFailureMessageSendCode").click();\n              time = 0;\n              setSended();\n            }\n          }\n        });\n        \n      }\n  </script>\n\n  <script type="text/javascript">\n      function forgotYourPassword() {\n        window.location.href="\\/cas\\/personal\\/forgotYourPassword";\n      }\n  </script>\n\n  <script type="text/javascript">\n      function activeYourAccount() {\n        window.location.href="\\/cas\\/personal\\/activeYourAccount";\n      }\n  </script>\n  \n  <script type="text/javascript">\n  function showError(container, originalUsername, hasErrors, errors) {\n//    console.log(container);\n//    console.log(originalUsername);\n//    console.log(hasErrors);\n//    console.log(errors);\n    \n    if (originalUsername == null && !hasErrors) {\n      // localStorage.errorTimes = "";\n    }\n    \n    var errorTimes = (localStorage.errorTimes || "").split(\',\');\n    if (errorTimes == null) {\n      errorTimes = new Array();\n    }\n//    console.log(errorTimes);\n    \n    var nowTimestamp = new Date().getTime();\n    if (hasErrors) {\n      errorTimes.unshift(originalUsername+"::"+nowTimestamp);\n      \n      localStorage.errorTimes = errorTimes.join(\',\');\n    }\n\n    var errorCount = 0;\n\n    var maxErrorCount = 5;\n    for (var i=0; i<100; i++) {\n      if (i >= errorTimes.length) {\n        break;\n      }\n      \n      var errorTimesInfo = errorTimes[i];\n      if (errorTimesInfo != "") {\n        var errorUsername = errorTimesInfo.split("::")[0];\n        var errorTimestamp = errorTimesInfo.split("::")[1];\n        if (errorUsername == originalUsername && errorTimestamp > nowTimestamp - 300000) {\n          errorCount ++;\n        }\n      }\n      \n      if (errorCount >= maxErrorCount) {\n        break\n      }\n    }\n    console.log(errorCount);\n    \n    var errorsInfo = errors.join("");\n    container.find("span.el-alert__title").text(errorsInfo);\n    \n    if (errorCount == 1) {\n      \n    } else if (errorCount == 2) {\n      container.find("span.el-alert__title").append("剩余3次锁定。");\n    } else if (errorCount == 3) {\n      container.find("span.el-alert__title").append("剩余2次锁定。");\n    } else if (errorCount == 4) {\n      container.find("span.el-alert__title").append("剩余1次锁定。");\n    } else if (errorCount == 5) {\n      container.find("span.el-alert__title").text("账号已暂时锁定，请稍后再试。");\n    } else {\n      \n    }\n  }\n  </script>\n  \n  <script type="text/javascript">\n  $( document ).ready(function() {\n    $("#vue_main").show();\n  });\n  </script>\n\n<!--[if IE 9]><script type="text/javascript" charset="utf-8" src="/cas/deps/js/placeholder/placeholder.js"></script><![endif]--></div>\n</main>\n\n\n\n\n</body>\n</html>\n'